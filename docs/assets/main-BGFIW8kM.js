const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./pages-cuNR37LP.js","./vendor-react-DzvE8wYF.js","./vendor-other-DQJqTIja.js","./vendor-leaflet-Ch3uxlbW.js","./vendor-leaflet-Dgihpmma.css","./data-DzfqXYxE.js","./bikram-DMmazJtx.js","./kundali-BrUbnJL_.js","./vendor-utils-y-iLWhYP.js"])))=>i.map(i=>d[i]);
import"./index-DOmWQL8b.js";import{r as t,j as e,D as _,G as ne,X as re,H as oe,S as le,J as ie,a as de,I as D,M as ce,b as ue,K as he,L as me}from"./vendor-react-DzvE8wYF.js";import{a3 as T,a4 as fe,N as b,C as pe,T as ge,s as xe,u as be,M as ye,a5 as ve,a6 as we,a7 as ke}from"./bikram-DMmazJtx.js";import{u as Se,A as je}from"./pages-cuNR37LP.js";import{t as B,h as O,T as Ne}from"./kundali-BrUbnJL_.js";import{l as Te,m as Ee,a as Ae,b as Ie}from"./vendor-leaflet-Ch3uxlbW.js";import"./vendor-other-DQJqTIja.js";import"./data-DzfqXYxE.js";import"./vendor-utils-y-iLWhYP.js";const Ce=()=>{const[a,o]=t.useState("light");return t.useEffect(()=>{const h=localStorage.getItem("theme")||"light";o(h),document.documentElement.classList.toggle("dark",h==="dark")},[]),{theme:a,toggleTheme:()=>{const d=a==="light"?"dark":"light";o(d),localStorage.setItem("theme",d),document.documentElement.classList.toggle("dark",d==="dark")},resetTheme:()=>{localStorage.removeItem("theme"),o("light"),document.documentElement.classList.toggle("dark",!1)}}},Le=()=>{const[a,o]=t.useState("tabs"),[w,u]=t.useState("topbar");return t.useEffect(()=>{const n=localStorage.getItem("menuStyle");o(n||"tabs");const f=localStorage.getItem("desktopLayoutStyle");u(f||"topbar")},[]),{menuStyle:a,desktopLayoutStyle:w,handleSetMenuStyle:n=>{o(n),localStorage.setItem("menuStyle",n)},handleSetDesktopLayoutStyle:n=>{u(n),localStorage.setItem("desktopLayoutStyle",n)},resetLayoutSettings:()=>{localStorage.removeItem("menuStyle"),localStorage.removeItem("desktopLayoutStyle"),o("tabs"),u("topbar")}}};function V(a={}){const{immediate:o=!1,onNeedRefresh:w,onOfflineReady:u,onRegistered:d,onRegisteredSW:h,onRegisterError:m}=a;let n,f;const x=async(s=!0)=>{await f};async function g(){if("serviceWorker"in navigator){if(n=await T(async()=>{const{Workbox:s}=await import("./vendor-other-DQJqTIja.js").then(r=>r.w);return{Workbox:s}},[],import.meta.url).then(({Workbox:s})=>new s("./sw.js",{scope:"./",type:"classic"})).catch(s=>{m?.(s)}),!n)return;n.addEventListener("activated",s=>{(s.isUpdate||s.isExternal)&&window.location.reload()}),n.addEventListener("installed",s=>{s.isUpdate||u?.()}),n.register({immediate:o}).then(s=>{h?h("./sw.js",s):d?.(s)}).catch(s=>{m?.(s)})}}return f=g(),x}const _e=()=>{const[a,o]=t.useState(!1),[w,u]=t.useState(!1),[d,h]=t.useState(()=>localStorage.getItem("pwa_installed")==="true"),[m,n]=t.useState(null);return t.useEffect(()=>{V({immediate:!0})},[]),t.useEffect(()=>{const x=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone;if(o(!!x),x){h(!0);return}const g=()=>{localStorage.setItem("pwa_installed","true"),h(!0),u(!1)};window.addEventListener("appinstalled",g),"getInstalledRelatedApps"in navigator&&navigator.getInstalledRelatedApps().then(r=>{r.length>0&&(localStorage.getItem("pwa_installed")!=="true"&&localStorage.setItem("pwa_installed","true"),h(!0))});const s=r=>{r.preventDefault(),localStorage.removeItem("pwa_installed"),h(!1),n(r),u(!0)};return window.addEventListener("beforeinstallprompt",s),()=>{window.removeEventListener("appinstalled",g),window.removeEventListener("beforeinstallprompt",s)}},[]),{isStandalone:a,canInstall:w,isInstalled:d,deferredPrompt:m,handleInstallClick:async()=>{m&&(m.prompt(),await m.userChoice,n(null),u(!1))}}},Pe=()=>{const[a,o]=t.useState("calendar"),[w,u]=t.useState(null),[d,h]=t.useState(!1),[m,n]=t.useState(!1),[f,x]=t.useState(!1),[g,s]=t.useState(!1),r=t.useRef(null),[E,N]=t.useState(!1),i=t.useRef(null),k=t.useRef(0),[c,I]=t.useState(!1);t.useEffect(()=>{let l=null,y=0;const p=25,S=()=>{y++,typeof window.Android<"u"&&typeof window.Android.isAndroidApp=="function"?(I(!0),l&&clearInterval(l)):y>=p&&l&&clearInterval(l)};return S(),c||(l=window.setInterval(S,2e3)),()=>{l&&clearInterval(l)}},[]),t.useEffect(()=>{const l=y=>{m&&y.key==="Backspace"&&(y.preventDefault(),n(!1))};return m&&window.addEventListener("keydown",l),()=>{window.removeEventListener("keydown",l)}},[m]);const j=t.useCallback(()=>d?(h(!1),!0):f?(x(!1),!0):m?(n(!1),!0):a==="kundali"?g&&r.current?(r.current(),!0):(o("calendar"),!0):a==="converter"||a==="settings"||a==="privacy"||a==="radio"?(o("calendar"),!0):!1,[d,f,m,a,g]);t.useEffect(()=>{const l=()=>{k.current=0,N(!1),i.current&&(clearTimeout(i.current),i.current=null)};if(window.handleBackPress=()=>{if(j())return l(),!0;if(k.current+=1,k.current===1)return N(!0),navigator.vibrate&&navigator.vibrate(50),i.current&&clearTimeout(i.current),i.current=window.setTimeout(()=>l(),2e3),!0;{l();const p=window.Android;return typeof p<"u"&&typeof p.exitApp=="function"?(p.exitApp(),!0):!1}},!c){const y=()=>{const S=new URL(window.location.href);S.hash=`#${Date.now()}`,window.history.pushState({dummy:!0},"",S.toString())};y();const p=()=>{if(j()){y();return}k.current+=1,k.current===1?(N(!0),navigator.vibrate&&navigator.vibrate(50),i.current&&clearTimeout(i.current),i.current=window.setTimeout(()=>l(),2e3),y()):(l(),window.history.go(-2))};return window.addEventListener("popstate",p),()=>{window.removeEventListener("popstate",p),l(),window.handleBackPress=void 0}}return()=>{c&&l()}},[c,j]);const A=l=>{u(l),h(!0)},C=t.useCallback(l=>{r.current=l},[]);return{activeView:a,setActiveView:o,selectedDate:w,isModalOpen:d,setIsModalOpen:h,isMenuOpen:m,setIsMenuOpen:n,isAboutOpen:f,setIsAboutOpen:x,isKundaliResultsVisible:g,setIsKundaliResultsVisible:s,showExitToast:E,handleDayClick:A,isAndroidWebView:c,setKundaliBackAction:C}},Me=(a,o)=>{const[w,u]=t.useState(!1),[d,h]=t.useState(null),[m,n]=t.useState(null),[f,x]=t.useState(!1),[g,s]=t.useState(null);return t.useEffect(()=>{typeof window.Android<"u"&&typeof window.Android.openWidgetSettings=="function"&&u(!0)},[]),t.useEffect(()=>{const i=k=>{if(k?.preventDefault?.(),a){o(!1);return}if(f)window.Android?.exitApp?window.Android.exitApp():window.history.length>1?window.history.back():window.close();else{x(!0);const c=window.setTimeout(()=>x(!1),2e3);s(c)}};return window.addEventListener("popstate",i),document.addEventListener("backbutton",i),()=>{window.removeEventListener("popstate",i),document.removeEventListener("backbutton",i),g&&clearTimeout(g)}},[a,f,g,o]),{isAndroidApp:w,showExitToast:f,handleTouchStart:i=>{h(i.touches[0].clientX),n(null)},handleTouchMove:i=>n(i.touches[0].clientX),handleTouchEnd:()=>{if(!d||!m)return;const i=m-d;i>60&&d<50?o(!0):i<-60&&a&&o(!1),h(null),n(null)}}},Re=t.lazy(()=>T(()=>import("./pages-cuNR37LP.js").then(a=>a.K),__vite__mapDeps([0,1,2,3,4,5,6,7,8]),import.meta.url)),De=t.lazy(()=>T(()=>import("./pages-cuNR37LP.js").then(a=>a.c),__vite__mapDeps([0,1,2,3,4,5,6,7,8]),import.meta.url)),Be=t.lazy(()=>T(()=>import("./pages-cuNR37LP.js").then(a=>a.S),__vite__mapDeps([0,1,2,3,4,5,6,7,8]),import.meta.url)),Oe=t.lazy(()=>T(()=>import("./pages-cuNR37LP.js").then(a=>a.b),__vite__mapDeps([0,1,2,3,4,5,6,7,8]),import.meta.url)),Ve=t.lazy(()=>T(()=>import("./pages-cuNR37LP.js").then(a=>a.r),__vite__mapDeps([0,1,2,3,4,5,6,7,8]),import.meta.url)),Ye=()=>{const{theme:a,toggleTheme:o,resetTheme:w}=Ce(),{menuStyle:u,desktopLayoutStyle:d,handleSetMenuStyle:h,handleSetDesktopLayoutStyle:m,resetLayoutSettings:n}=Le(),{isStandalone:f,canInstall:x,handleInstallClick:g}=_e(),{activeView:s,setActiveView:r,selectedDate:E,isModalOpen:N,setIsModalOpen:i,isMenuOpen:k,setIsMenuOpen:c,isAboutOpen:I,setIsAboutOpen:j,handleDayClick:A,setIsKundaliResultsVisible:C,setKundaliBackAction:l,showExitToast:y}=Pe(),{activeSystem:p,currentYear:S,currentMonth:L,currentBsYear:Y,currentBsMonth:z,currentAdYear:W,currentAdMonth:K,switchSystem:X,goToToday:U,changeMonth:P,changeYear:M,setCurrentBsYear:$,setCurrentAdYear:F,setCurrentBsMonth:H,setCurrentAdMonth:G,initialToday:R,initialTodayBs:J,todayDetails:q}=Se(),{isAndroidApp:Q,handleTouchStart:Z,handleTouchMove:ee,handleTouchEnd:te}=Me(k,c),ae=()=>{w(),n(),B.info("Settings reset to default",2e3)};t.useEffect(()=>{new URLSearchParams(window.location.search).get("activeView")==="radio"&&(r("radio"),window.history.replaceState({},"","/"))},[r]),t.useEffect(()=>{y&&B.info(p==="bs"?"à¤¬à¤¨à¥à¤¦ à¤—à¤°à¥à¤¨à¤•à¥‹ à¤²à¤¾à¤—à¤¿ à¤«à¥‡à¤°à¤¿ à¤¥à¤¿à¤šà¥à¤¨à¥à¤¹à¥‹à¤¸à¥":"Press back again to exit",2e3)},[y,p]);const se=()=>{A(R)};return e.jsxs("div",{className:`min-h-screen flex flex-col bg-slate-100 dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-colors relative ${d==="sidebar"?"md:flex-row":""} ${a==="dark"?"dark":""}`,onTouchStart:Z,onTouchMove:ee,onTouchEnd:te,children:[d==="topbar"&&e.jsxs("div",{className:"w-full flex items-center justify-between px-4 py-2 bg-slate-200 dark:bg-gray-800 z-30 print:hidden",children:[e.jsx(fe,{activeView:s,onNavigate:v=>{v==="about"?j(!0):r(v)}}),!f&&x&&e.jsxs("button",{onClick:g,className:"hidden md:flex ml-4 p-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700 items-center gap-2 text-sm",children:[e.jsx(_,{className:"w-4 h-4"})," ",e.jsx("span",{children:b.installApp})]})]}),e.jsx("header",{className:"px-4 py-2 dark:border-gray-700 bg-slate-200 dark:bg-gray-800 z-30 md:hidden",children:e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[u==="slide"&&e.jsx("button",{onClick:()=>c(!0),className:"p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700",children:e.jsx(ne,{className:"w-5 h-5"})}),e.jsx("h1",{className:"text-lg sm:text-xl font-semibold",children:b.Nepdate_calendar})]}),u==="tabs"&&!f&&x&&e.jsxs("button",{onClick:g,className:"px-3 py-2 text-left text-xs rounded bg-blue-600 text-white hover:bg-blue-700 flex items-center gap-2",children:[e.jsx(_,{className:"w-5 h-5"})," ",e.jsx("span",{children:b.installApp})]})]})}),k&&e.jsx("div",{className:"fixed inset-0 bg-black/40 z-40 md:hidden",onClick:()=>c(!1)}),e.jsx("aside",{className:`fixed top-0 left-0 z-50 h-full bg-slate-200 dark:bg-gray-800 shadow-xl transform transition-transform duration-300 ease-in-out
          ${k?"translate-x-0":"-translate-x-full"}
          ${d==="sidebar"?"md:translate-x-0 md:sticky md:h-screen md:w-56":"md:hidden w-64"}`,children:e.jsxs("div",{className:"flex flex-col h-full p-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100",children:"Menu"}),e.jsx("button",{onClick:()=>c(!1),className:"p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 md:hidden",children:e.jsx(re,{className:"w-5 h-5"})})]}),e.jsxs("nav",{className:"flex flex-col space-y-3 text-gray-800 dark:text-gray-200",children:[e.jsxs("button",{onClick:()=>{r("calendar"),c(!1)},className:"px-3 py-2 flex items-center gap-2 rounded hover:bg-gray-300 dark:hover:bg-gray-700",children:[e.jsx(oe,{className:"w-4 h-4"})," ",b.home]}),e.jsxs("button",{onClick:()=>{r("converter"),c(!1)},className:"px-3 py-2 flex items-center gap-2 rounded hover:bg-gray-300 dark:hover:bg-gray-700",children:[e.jsx(le,{className:"w-4 h-4"})," ",b.converter]}),e.jsxs("button",{onClick:()=>{r("kundali"),c(!1)},className:"px-3 py-2 flex items-center gap-2 rounded hover:bg-gray-300 dark:hover:bg-gray-700",children:["ðŸ”¯ ",b.kundali]}),e.jsxs("button",{onClick:()=>{r("radio"),c(!1)},className:"px-3 py-2 flex items-center gap-2 rounded hover:bg-gray-300 dark:hover:bg-gray-700",children:[e.jsx(ie,{className:"w-4 h-4"})," ",b.radio]}),e.jsxs("button",{onClick:()=>{r("settings"),c(!1)},className:"px-3 py-2 flex items-center gap-2 rounded hover:bg-gray-300 dark:hover:bg-gray-700",children:[e.jsx(de,{className:"w-4 h-4"})," ",b.settings]}),e.jsxs("button",{onClick:()=>{r("privacy"),c(!1)},className:"px-3 py-2 flex items-center gap-2 rounded hover:bg-gray-300 dark:hover:bg-gray-700",children:[e.jsx(D,{className:"w-4 h-4"})," ",b.privacyPolicy]}),e.jsxs("button",{onClick:()=>{j(!0),c(!1)},className:"px-3 py-2 flex items-center gap-2 rounded hover:bg-gray-300 dark:hover:bg-gray-700",children:[e.jsx(D,{className:"w-4 h-4"})," ",b.about]}),!f&&x&&e.jsxs("button",{onClick:()=>{g(),c(!1)},className:"px-3 py-2 flex items-center gap-2 rounded bg-blue-600 text-white hover:bg-blue-700",children:[e.jsx(_,{className:"w-4 h-4"})," ",b.installApp]}),e.jsxs("button",{onClick:()=>{o(),c(!1)},className:"px-3 py-2 flex items-center gap-2 rounded hover:bg-gray-300 dark:hover:bg-gray-700",children:[a==="light"?e.jsx(ce,{className:"w-4 h-4"}):e.jsx(ue,{className:"w-4 h-4"})," ",a==="light"?b.darkMode:b.lightMode]}),e.jsx("hr",{className:"border-gray-300 dark:border-gray-600 my-2"}),e.jsxs("button",{onClick:()=>{O(),c(!1)},className:"px-3 py-2 flex items-center gap-2 rounded text-blue-600 dark:text-blue-400 hover:bg-blue-100 dark:hover:bg-blue-900/50",children:[e.jsx(he,{className:"w-4 h-4"})," Clear Cache & Reload"]})]}),e.jsxs("div",{className:"mt-auto text-xs text-gray-500 dark:text-gray-400 border-t border-gray-200 dark:border-gray-700 pt-4",children:["Â© ",new Date().getFullYear()," ",b.project]})]})}),e.jsx("div",{className:"flex-1 overflow-hidden",children:e.jsx("div",{className:`h-full overflow-auto px-4 md:px-6 max-w-7xl xl:max-w-6xl mx-auto w-full ${u==="tabs"?"pb-24 md:pb-6":"pb-20 md:pb-6"}`,children:s==="kundali"?e.jsx(t.Suspense,{fallback:e.jsx("div",{className:"flex justify-center items-center min-h-[60vh]",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}),children:e.jsx(Re,{onBack:()=>r("calendar"),setIsKundaliResultsVisible:C,setKundaliBackAction:l})}):s==="calendar"?e.jsxs(e.Fragment,{children:[e.jsx(pe,{activeSystem:p,bsYear:Y,bsMonth:z,adYear:W,adMonth:K,onSystemChange:X,onTodayClick:U,theme:a,onThemeToggle:o}),e.jsxs("main",{className:"min-h-[60vh] md:grid md:grid-cols-12 md:gap-x-6",children:[e.jsx("aside",{className:"hidden md:block md:col-span-4",children:e.jsx(ge,{todayAd:R,todayBs:J,todayDetails:q,onShowDetailsClick:se})}),e.jsxs("div",{className:"md:col-span-8 flex flex-col",children:[e.jsx(xe,{activeSystem:p,currentYear:S,currentMonth:L,onYearChange:v=>p==="bs"?$(v):F(v),onMonthChange:v=>p==="bs"?H(v):G(v),onPrevMonth:()=>P("prev"),onNextMonth:()=>P("next"),onPrevYear:()=>M("prev"),onNextYear:()=>M("next")}),e.jsx(be,{activeSystem:p,currentYear:S,currentMonth:L,onDayClick:A}),e.jsx(ye,{activeSystem:p,currentYear:S,currentMonth:L})]})]})]}):s==="converter"?e.jsx(t.Suspense,{fallback:e.jsx("div",{className:"flex justify-center items-center min-h-[60vh]",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}),children:e.jsx(De,{onBack:()=>r("calendar")})}):s==="settings"?e.jsx(t.Suspense,{fallback:e.jsx("div",{className:"flex justify-center items-center min-h-[60vh]",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}),children:e.jsx(Be,{onBack:()=>r("calendar"),currentTheme:a,onThemeChange:o,currentMenuStyle:u,onMenuStyleChange:h,currentDesktopLayoutStyle:d,onDesktopLayoutStyleChange:m,onResetSettings:ae,isAndroidApp:Q,onReloadApp:O})}):s==="privacy"?e.jsx(t.Suspense,{fallback:e.jsx("div",{className:"flex justify-center items-center min-h-[60vh]",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}),children:e.jsx(Oe,{})}):s==="radio"?e.jsx(t.Suspense,{fallback:e.jsx("div",{className:"flex justify-center items-center min-h-[60vh]",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}),children:e.jsx(Ve,{})}):null})}),u==="slide"&&e.jsx("div",{className:"fixed bottom-0 left-0 right-0 w-full bg-slate-200 dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 z-50 print:hidden md:hidden",children:e.jsx(ve,{})}),u==="tabs"&&e.jsx("div",{className:"md:hidden print:hidden",children:e.jsx(we,{activeView:s,onNavigate:v=>{v==="about"?j(!0):r(v==="privacy"?"privacy":v)}})}),e.jsx(ke,{date:E,isOpen:N,onClose:()=>i(!1)}),I&&e.jsx(je,{setIsAboutOpen:j}),e.jsx(Ne,{})]})};Te.Icon.Default.mergeOptions({iconUrl:Ie,shadowUrl:Ae,iconRetinaUrl:Ee});V({onNeedRefresh(){confirm("A new version is available. Reload to update?")&&window.location.reload()},onOfflineReady(){console.log("App ready to work offline")}});me.createRoot(document.getElementById("root")).render(e.jsx(t.StrictMode,{children:e.jsx(Ye,{})}));
