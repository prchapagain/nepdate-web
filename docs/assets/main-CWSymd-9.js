import{j as e,a3 as ke,a4 as je,d as Se,r as t,k as le,a5 as Ne,D as ne,X as Ce,M as Ae,e as Te,f as Ie,a2 as Ee}from"./vendor-react-C_AE-xSI.js";import{N as P,a6 as he,a7 as De,q as Me,t as re,s as Pe,u as q,Q as Re,a8 as Be,d as Le,a9 as Ve,a3 as oe,aa as G,ab as Ye,ac as ie,ad as ce,ae as We,af as $e,a5 as de,ag as ue,ah as _e,ai as Ue,aj as Fe,ak as Oe,al as He,a4 as Ke,b as J,am as ze,an as Xe,ao as Ge,ap as Je}from"./bikram-oQkY3Ra4.js";import{g as qe,B as Qe,D as Ze,a as ea,A as aa}from"./pages-D64jcDSL.js";import"./index-BLACKzDQ.js";import{l as ta,m as sa,a as la,b as na}from"./vendor-leaflet-Ch3uxlbW.js";const X={calendar:[{label:"बैशाख",value:"calendar",param:{month:0}},{label:"जेठ",value:"calendar",param:{month:1}},{label:"असार",value:"calendar",param:{month:2}},{label:"साउन",value:"calendar",param:{month:3}},{label:"भदौ",value:"calendar",param:{month:4}},{label:"असोज",value:"calendar",param:{month:5}}],calendar2:[{label:"कार्तिक",value:"calendar",param:{month:6}},{label:"मंसिर",value:"calendar",param:{month:7}},{label:"पुस",value:"calendar",param:{month:8}},{label:"माघ",value:"calendar",param:{month:9}},{label:"फाल्गुन",value:"calendar",param:{month:10}},{label:"चैत",value:"calendar",param:{month:11}}],rashifal:[{label:"मेष",value:"rashifal",param:"mesh"},{label:"वृष",value:"rashifal",param:"brish"},{label:"मिथुन",value:"rashifal",param:"mithun"},{label:"कर्कट",value:"rashifal",param:"karkat"},{label:"सिंह",value:"rashifal",param:"simha"},{label:"कन्या",value:"rashifal",param:"kanya"}],rashifal2:[{label:"तुला",value:"rashifal",param:"tula"},{label:"वृश्चिक",value:"rashifal",param:"brishchik"},{label:"धनु",value:"rashifal",param:"dhanu"},{label:"मकर",value:"rashifal",param:"makar"},{label:"कुम्भ",value:"rashifal",param:"kumbha"},{label:"मीन",value:"rashifal",param:"meen"}],services:[{label:P.converter,value:"converter"},{label:"राशिफल",value:"rashifal"},{label:P.kundali,value:"kundali"},{label:P.radio,value:"radio"},{label:"हाम्रो फेसबुक",value:"facebook"}]},ra=({onNavigate:s})=>{const r=(a,i,o)=>{a.preventDefault(),s(i,o),i==="calendar"?setTimeout(()=>{const w=document.getElementById("main-calendar-grid");w?w.scrollIntoView({behavior:"smooth",block:"start"}):window.scrollTo({top:0,behavior:"smooth"})},100):window.scrollTo({top:0,behavior:"smooth"})};return e.jsx("footer",{className:"hidden md:block bg-gray-100 dark:bg-gray-900 border-t border-gray-200 dark:border-gray-800 pt-10 pb-8 mt-auto",children:e.jsxs("div",{className:"max-w-7xl xl:max-w-6xl mx-auto px-4 md:px-6",children:[e.jsxs("div",{className:"grid grid-cols-4 gap-8 mb-10",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-gray-900 dark:text-gray-100 font-bold mb-4 uppercase text-sm tracking-wider",children:"नेपाली पात्रो (Calendar)"}),e.jsxs("div",{className:"grid grid-cols-2 gap-x-4",children:[e.jsx("ul",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-400",children:X.calendar.map((a,i)=>e.jsx("li",{children:e.jsx("button",{onClick:o=>r(o,a.value,a.param),className:"hover:text-blue-600 dark:hover:text-blue-400 transition-colors cursor-pointer text-left",children:a.label})},i))}),e.jsx("ul",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-400",children:X.calendar2.map((a,i)=>e.jsx("li",{children:e.jsx("button",{onClick:o=>r(o,a.value,a.param),className:"hover:text-blue-600 dark:hover:text-blue-400 transition-colors cursor-pointer text-left",children:a.label})},i))})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-gray-900 dark:text-gray-100 font-bold mb-4 uppercase text-sm tracking-wider",children:"आजको राशिफल (Horoscope)"}),e.jsxs("div",{className:"grid grid-cols-2 gap-x-4",children:[e.jsx("ul",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-400",children:X.rashifal.map((a,i)=>e.jsx("li",{children:e.jsx("button",{onClick:o=>r(o,a.value,a.param),className:"hover:text-blue-600 dark:hover:text-blue-400 transition-colors cursor-pointer text-left",children:a.label})},i))}),e.jsx("ul",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-400",children:X.rashifal2.map((a,i)=>e.jsx("li",{children:e.jsx("button",{onClick:o=>r(o,a.value,a.param),className:"hover:text-blue-600 dark:hover:text-blue-400 transition-colors cursor-pointer text-left",children:a.label})},i))})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-gray-900 dark:text-gray-100 font-bold mb-4 uppercase text-sm tracking-wider",children:"सेवाहरू (Services)"}),e.jsx("ul",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-400",children:X.services.map((a,i)=>e.jsx("li",{children:e.jsx("button",{onClick:o=>r(o,a.value),className:"hover:text-blue-600 dark:hover:text-blue-400 transition-colors cursor-pointer text-left",children:a.label})},i))})]}),e.jsxs("div",{children:[e.jsx("div",{className:"mb-4 -ml-2",children:e.jsx(he,{activeSystem:"bs"})}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-6 leading-relaxed",children:"Your trusted partner for Nepali dates, festivals, astrology, and muhurtas."}),e.jsx("a",{href:"https://play.google.com/store/apps/details?id=com.khumnath.nepdate",target:"_blank",rel:"noopener noreferrer",className:"inline-block mb-6",children:e.jsx("img",{src:"https://play.google.com/intl/en_us/badges/static/images/badges/en_badge_web_generic.png",alt:"Get it on Google Play",className:"h-16 -ml-3"})}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-400",children:[e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(ke,{className:"w-4 h-4 shrink-0"}),e.jsx("span",{children:"aksharlabstudio1@gmail.com"})]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(je,{className:"w-4 h-4 shrink-0"}),e.jsx("span",{children:"Butwal, Nepal"})]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(Se,{className:"w-4 h-4 shrink-0"}),e.jsx("a",{href:"https://www.facebook.com/people/NepDate-Patro/61584433679641/",target:"_blank",rel:"noopener noreferrer",className:"hover:text-blue-600 transition-colors",children:"NepDate Patro"})]})]})]})]}),e.jsx("div",{className:"border-t border-gray-200 dark:border-gray-800 pt-6 text-center",children:e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["© ",new Date().getFullYear()," NepDate Patro. All Rights Reserved."]})})]})})},oa=()=>{const[s,r]=t.useState("tabs"),[a,i]=t.useState("topbar");return t.useEffect(()=>{const d=localStorage.getItem("menuStyle");r(d||"tabs");const m=localStorage.getItem("desktopLayoutStyle");i(m||"topbar")},[]),{menuStyle:s,desktopLayoutStyle:a,handleSetMenuStyle:d=>{r(d),localStorage.setItem("menuStyle",d)},handleSetDesktopLayoutStyle:d=>{i(d),localStorage.setItem("desktopLayoutStyle",d)},resetLayoutSettings:()=>{localStorage.removeItem("menuStyle"),localStorage.removeItem("desktopLayoutStyle"),r("tabs"),i("topbar")}}};function me(s={}){const{immediate:r=!1,onNeedRefresh:a,onOfflineReady:i,onRegistered:o,onRegisteredSW:w,onRegisterError:p}=s;let d,m;const f=async(l=!0)=>{await m};async function g(){if("serviceWorker"in navigator){if(d=await De(async()=>{const{Workbox:l}=await import("./vendor-other-DQJqTIja.js").then(c=>c.w);return{Workbox:l}},[],import.meta.url).then(({Workbox:l})=>new l("./sw.js",{scope:"./",type:"classic"})).catch(l=>{p?.(l)}),!d)return;d.addEventListener("activated",l=>{(l.isUpdate||l.isExternal)&&window.location.reload()}),d.addEventListener("installed",l=>{l.isUpdate||i?.()}),d.register({immediate:r}).then(l=>{w?w("./sw.js",l):o?.(l)}).catch(l=>{p?.(l)})}}return m=g(),f}const ia=()=>{const[s,r]=t.useState(!1),[a,i]=t.useState(!1),[o,w]=t.useState(()=>localStorage.getItem("pwa_installed")==="true"),[p,d]=t.useState(null);return t.useEffect(()=>{me({immediate:!0})},[]),t.useEffect(()=>{const f=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone;if(r(!!f),f){w(!0);return}const g=()=>{localStorage.setItem("pwa_installed","true"),w(!0),i(!1)};window.addEventListener("appinstalled",g),"getInstalledRelatedApps"in navigator&&navigator.getInstalledRelatedApps().then(c=>{c.length>0&&(localStorage.getItem("pwa_installed")!=="true"&&localStorage.setItem("pwa_installed","true"),w(!0))});const l=c=>{c.preventDefault(),localStorage.removeItem("pwa_installed"),w(!1),d(c),i(!0)};return window.addEventListener("beforeinstallprompt",l),()=>{window.removeEventListener("appinstalled",g),window.removeEventListener("beforeinstallprompt",l)}},[]),{isStandalone:s,canInstall:a,isInstalled:o,deferredPrompt:p,handleInstallClick:async()=>{p&&(p.prompt(),await p.userChoice,d(null),i(!1))}}},ca=()=>{const[s]=t.useState(Me()),[r]=t.useState(()=>re(s)),[a,i]=t.useState(null);t.useEffect(()=>{try{const y=new Date(s);y.setUTCHours(0,0,0,0);const B=Pe(y,27.7172,85.324,5.75);"error"in B?q(`Error from calculate:'${B.error}`,"error",2e3):i(B)}catch(y){q(`Error calculating today details:${y}`,"error",2e3)}},[]);const[o,w]=t.useState("bs"),[p,d]=t.useState(r.year),[m,f]=t.useState(r.monthIndex),[g,l]=t.useState(s.getFullYear()),[c,N]=t.useState(s.getMonth()),_=t.useMemo(()=>o==="bs"?p:g,[o,p,g]),x=t.useMemo(()=>o==="bs"?m:c,[o,m,c]),I=t.useCallback(()=>{d(r.year),f(r.monthIndex),l(s.getFullYear()),N(s.getMonth())},[s,r]),j=t.useCallback(v=>{if(v===o)return;const b=g===s.getFullYear()&&c===s.getMonth(),S=p===r.year&&m===r.monthIndex;if(v==="bs"&&b||v==="ad"&&S)I();else if(v==="bs"){const y=g??s.getFullYear(),L=Re(y,c,12),D=Be(L),M=re(D);M.year===0||!M.year?I():(d(M.year),f(M.monthIndex))}else if(p===null)I();else{const y=Le(p,m,18);l(y.getUTCFullYear()),N(y.getUTCMonth())}w(v)},[o,g,c,p,m,s,r,I]),W=t.useCallback(v=>{if(o==="bs"){const b=v==="prev"?m-1:m+1;b<0?(f(11),d(S=>(S??r.year)-1)):b>11?(f(0),d(S=>(S??r.year)+1)):f(b)}else{const b=v==="prev"?c-1:c+1;b<0?(N(11),l(S=>(S??s.getFullYear())-1)):b>11?(N(0),l(S=>(S??s.getFullYear())+1)):N(b)}},[o,m,c,s,r]),R=t.useCallback(v=>{o==="bs"?d(b=>(b??r.year)+(v==="next"?1:-1)):l(b=>(b??s.getFullYear())+(v==="next"?1:-1))},[o,s,r]);return{activeSystem:o,currentBsYear:p,currentBsMonth:m,currentAdYear:g,currentAdMonth:c,currentYear:_,currentMonth:x,switchSystem:j,goToToday:I,changeMonth:W,changeYear:R,setCurrentBsYear:d,setCurrentBsMonth:f,setCurrentAdYear:l,setCurrentAdMonth:N,initialToday:s,initialTodayBs:r,todayDetails:a}},da=()=>{const[s,r]=t.useState(()=>{if(typeof window>"u")return null;const n=window.location.hash.replace("#","");if(n.startsWith("post/")){const h=n.split("/");if(h.length>=3)return{source:h[1],slug:decodeURIComponent(h.slice(2).join("/"))}}return null}),[a,i]=t.useState(()=>{if(typeof window>"u")return"calendar";const n=window.location.pathname;if(n.includes("/bs")||n.includes("/ad"))return"day-detail";const h=window.location.hash.replace("#","");if(!h){const T=new URLSearchParams(window.location.search).get("activeView");return T||"calendar"}return h.startsWith("bs?")||h.startsWith("ad?")?"day-detail":h.startsWith("post/")?"blog-detail":h.split("/")[0]||"calendar"}),o=t.useRef("calendar"),[w,p]=t.useState(null),[d,m]=t.useState(!1),[f,g]=t.useState(!1),[l,c]=t.useState(!1),[N,_]=t.useState(!1),[x,I]=t.useState(!1),j=t.useRef(null),W=t.useRef(null),[R,v]=t.useState(!1),b=t.useRef(null),S=t.useRef(0),[y,B]=t.useState(!1);t.useEffect(()=>{let n=null,h=0;const U=25,E=()=>{h++,typeof window.Android<"u"?(B(!0),n&&clearInterval(n)):h>=U&&n&&clearInterval(n)};return E(),y||(n=window.setInterval(E,2e3)),()=>{n&&clearInterval(n)}},[]),t.useEffect(()=>{const n=window.location.hash.replace("#","");if(a==="blog-detail"&&n.startsWith("post/")){const h=n.split("/");h.length>=3&&r({source:h[1],slug:decodeURIComponent(h.slice(2).join("/"))})}},[a]),t.useEffect(()=>{if(y)return;let n="";if(a!=="calendar"){if(a==="day-detail")return;a==="blog-detail"&&s?n=`post/${s.source}/${s.slug}`:(n=a,a==="kundali"&&N?n+="/result":a==="dharma"&&x&&(n+="/section"))}const h=window.location.hash.replace("#",""),E=(window.location.pathname.includes("/bs")||window.location.pathname.includes("/ad"))&&a!=="day-detail";if(h!==n||E){let T=n?`#${n}`:window.location.pathname;E?T=`/${n?"#"+n:""}`:a==="calendar"&&(T=window.location.pathname);const O=o.current!==a,Y=a==="blog-detail",H=o.current!=="calendar"&&a!=="calendar"&&!Y,K=h===""||n.startsWith(h)&&n!==h;O&&H?window.history.replaceState({view:a},"",T):!O&&!K?window.history.replaceState({view:a},"",T):window.history.pushState({view:a},"",T)}o.current=a},[a,N,x,y,s]),t.useEffect(()=>{const n=h=>{f&&h.key==="Backspace"&&(h.preventDefault(),g(!1))};return f&&window.addEventListener("keydown",n),()=>window.removeEventListener("keydown",n)},[f]);const L=t.useCallback(()=>{if(d)return m(!1),!0;if(l)return c(!1),!0;if(f)return g(!1),!0;if(a==="kundali"&&N&&j.current)return j.current(),!0;if(a==="dharma"&&x&&W.current)return W.current(),!0;if(y){if(a==="blog-detail"&&s?.source)return i(s.source),r(null),!0;if(a!=="calendar")return i("calendar"),!0}return!1},[d,l,f,a,N,x,y,s]),D=t.useRef(L);t.useEffect(()=>{D.current=L},[L]),t.useEffect(()=>{const n=()=>{S.current=0,v(!1),b.current&&(clearTimeout(b.current),b.current=null)};if(y)return window.handleBackPress=()=>D.current()?(n(),!0):(S.current+=1,S.current===1?(v(!0),navigator.vibrate&&navigator.vibrate(50),b.current=window.setTimeout(n,2e3),!0):(typeof window.Android?.exitApp=="function"&&window.Android.exitApp(),!1)),()=>{n()};{const h=()=>{if(D.current()){if(window.location.hash.replace("#","")===a)return;if(window.location.hash.replace("#","")!==(a==="calendar"?"":a)){const C=a==="calendar"?window.location.pathname:`#${a}`;setTimeout(()=>{window.history.replaceState({view:a},"",C)},10)}return}const E=window.location.hash.replace("#","");if(E.startsWith("post/")){const Y=E.split("/");Y.length>=3&&(r({source:Y[1],slug:Y.slice(2).join("/")}),i("blog-detail"));return}const T=E.split("/")[0];i(T===""?"calendar":T)};return window.addEventListener("popstate",h),()=>window.removeEventListener("popstate",h)}},[y,a]);const M=n=>{p(n),m(!0)},k=t.useCallback(n=>{j.current=n},[]),V=t.useCallback(n=>{W.current=n},[]);return{activeView:a,setActiveView:i,selectedDate:w,isModalOpen:d,setIsModalOpen:m,isMenuOpen:f,setIsMenuOpen:g,isAboutOpen:l,setIsAboutOpen:c,isKundaliResultsVisible:N,setIsKundaliResultsVisible:_,setKundaliBackAction:k,isDharmaResultsVisible:x,setIsDharmaResultsVisible:I,setDharmaBackAction:V,showExitToast:R,handleDayClick:M,isAndroidWebView:y,postParams:s,setPostParams:r}},ua=(s,r)=>{const[a,i]=t.useState(!1),[o,w]=t.useState(null),[p,d]=t.useState(null),[m,f]=t.useState(!1),[g,l]=t.useState(null);return t.useEffect(()=>{typeof window.Android<"u"&&typeof window.Android.openWidgetSettings=="function"&&i(!0)},[]),t.useEffect(()=>{const x=I=>{if(I?.preventDefault?.(),s){r(!1);return}if(m)window.Android?.exitApp?window.Android.exitApp():window.history.length>1?window.history.back():window.close();else{f(!0);const j=window.setTimeout(()=>f(!1),2e3);l(j)}};return window.addEventListener("popstate",x),document.addEventListener("backbutton",x),()=>{window.removeEventListener("popstate",x),document.removeEventListener("backbutton",x),g&&clearTimeout(g)}},[s,m,g,r]),{isAndroidApp:a,showExitToast:m,handleTouchStart:x=>{w(x.touches[0].clientX),d(null)},handleTouchMove:x=>d(x.touches[0].clientX),handleTouchEnd:()=>{if(!o||!p)return;const x=p-o;x>60&&o<50?r(!0):x<-60&&s&&r(!1),w(null),d(null)}}},ha=()=>{const{theme:s,toggleTheme:r,resetTheme:a}=Ve(),{menuStyle:i,desktopLayoutStyle:o,handleSetMenuStyle:w,handleSetDesktopLayoutStyle:p,resetLayoutSettings:d}=oa(),{isStandalone:m,canInstall:f,handleInstallClick:g}=ia(),{activeView:l,setActiveView:c,selectedDate:N,isModalOpen:_,setIsModalOpen:x,isMenuOpen:I,setIsMenuOpen:j,isAboutOpen:W,setIsAboutOpen:R,handleDayClick:v,setIsKundaliResultsVisible:b,setKundaliBackAction:S,setIsDharmaResultsVisible:y,setDharmaBackAction:B,showExitToast:L,postParams:D,setPostParams:M}=da(),{activeSystem:k,currentYear:V,currentMonth:n,switchSystem:h,goToToday:U,changeMonth:E,changeYear:T,setCurrentBsYear:O,setCurrentAdYear:Y,setCurrentBsMonth:H,setCurrentAdMonth:K,initialToday:Q,initialTodayBs:C,todayDetails:F}=ca(),{isAndroidApp:fe,handleTouchStart:pe,handleTouchMove:ge,handleTouchEnd:xe}=ua(I,j),[ee,Z]=le.useState(null),[ae,be]=le.useState(null),we=()=>{a(),d(),q.info("Settings reset to default",2e3)};t.useEffect(()=>{const A=new URLSearchParams(window.location.search).get("activeView");A?(c(A),window.history.replaceState({},"",oe())):(window.location.hash&&(window.location.hash.startsWith("#bs?")||window.location.hash.startsWith("#ad?"))||window.location.pathname.endsWith("/bs")||window.location.pathname.endsWith("/bs.html")||window.location.pathname.endsWith("/ad")||window.location.pathname.endsWith("/ad.html"))&&c("day-detail")},[c]),t.useEffect(()=>{L&&q.info("Press back again to exit",2e3)},[L]);const ye=()=>v(Q);t.useEffect(()=>{if(l==="blog-detail"&&D){const A=qe().find($=>G($.title)===D.slug);A&&be(A)}},[l,D]);const ve=()=>{D?.source?(c(D.source),M(null)):c("calendar")};return e.jsxs("div",{className:`fixed inset-0 h-[100dvh] w-full flex flex-col bg-slate-100 dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-colors overflow-hidden ${o==="sidebar"?"md:flex-row":""} ${s==="dark"?"dark":""}`,onTouchStart:pe,onTouchMove:ge,onTouchEnd:xe,children:[o==="topbar"&&e.jsx("div",{className:"w-full sticky top-0 z-30 print:hidden hidden md:block border-b border-gray-200 dark:border-gray-700",children:e.jsx(Ye,{activeView:l,activeSystem:k,onNavigate:u=>{u==="about"?R(!0):c(u)},showInstall:!m&&f,onInstallClick:g,theme:s,onThemeToggle:r})}),l==="calendar"&&e.jsx("header",{className:"sticky top-0 px-4 pt-2 bg-transparent z-30 md:hidden",children:e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[i==="slide"&&e.jsx("button",{onClick:()=>j(!0),className:"p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700",children:e.jsx(Ne,{className:"w-5 h-5"})}),e.jsx(he,{activeSystem:k})]}),i==="tabs"&&!m&&f&&e.jsxs("button",{onClick:g,className:"px-3 py-2 text-left text-xs rounded bg-blue-600 text-white hover:bg-blue-700 flex items-center gap-2",children:[e.jsx(ne,{className:"w-5 h-5"})," ",e.jsx("span",{children:P.installApp})]})]})}),I&&e.jsx("div",{className:"fixed inset-0 bg-black/40 z-40 md:hidden",onClick:()=>j(!1)}),e.jsx("aside",{className:`fixed top-0 left-0 z-50 h-full bg-slate-200 dark:bg-gray-800 shadow-xl transform transition-transform duration-300 ease-in-out
          ${I?"translate-x-0":"-translate-x-full"}
          ${o==="sidebar"?"md:translate-x-0 md:sticky md:h-screen md:w-56":"md:hidden w-64"}`,children:e.jsxs("div",{className:"flex flex-col h-full p-4 overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100",children:"Menu"}),e.jsx("button",{onClick:()=>j(!1),className:"p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 md:hidden",children:e.jsx(Ce,{className:"w-5 h-5"})})]}),e.jsxs("nav",{className:"flex flex-col space-y-3 text-gray-800 dark:text-gray-200",children:[ie.map(u=>e.jsxs("button",{onClick:()=>{u.key==="about"?R(!0):c(u.key),j(!1)},className:`px-3 py-2 flex items-center gap-2 rounded hover:bg-gray-300 dark:hover:bg-gray-700 ${l===u.key?"bg-gray-300 dark:bg-gray-700 font-medium":""}`,children:[u.icon," ",u.label]},u.key)),!m&&f&&e.jsxs("button",{onClick:()=>{g(),j(!1)},className:"px-3 py-2 flex items-center gap-2 rounded bg-blue-600 text-white hover:bg-blue-700",children:[e.jsx(ne,{className:"w-4 h-4"})," ",P.installApp]}),e.jsxs("button",{onClick:()=>{r(),j(!1)},className:"px-3 py-2 flex items-center gap-2 rounded hover:bg-gray-300 dark:hover:bg-gray-700",children:[s==="light"?e.jsx(Ae,{className:"w-4 h-4"}):e.jsx(Te,{className:"w-4 h-4"})," ",s==="light"?P.darkMode:P.lightMode]}),e.jsx("hr",{className:"border-gray-300 dark:border-gray-600 my-2"}),e.jsxs("button",{onClick:()=>{ce(),j(!1)},className:"px-3 py-2 flex items-center gap-2 rounded text-blue-600 dark:text-blue-400 hover:bg-blue-100 dark:hover:bg-blue-900/50",children:[e.jsx(Ie,{className:"w-4 h-4"})," Clear Cache & Reload"]})]}),e.jsxs("div",{className:"mt-auto text-xs text-gray-500 dark:text-gray-400 border-t border-gray-200 dark:border-gray-700 pt-4",children:["© ",new Date().getFullYear()," ",P.project]})]})}),e.jsx("div",{className:"flex-1 overflow-hidden",children:e.jsxs("div",{id:"app-scroll-container",className:`h-full mx-auto w-full max-w-7xl xl:max-w-6xl ${l==="calendar"?"overflow-auto px-4 md:px-6 pb-20 md:pb-6":"overflow-hidden p-0"}`,children:[l==="calendar"?e.jsxs(e.Fragment,{children:[e.jsx(We,{activeSystem:k,onSystemChange:h,onTodayClick:U,theme:s,onThemeToggle:r,todayDetails:F}),e.jsxs("main",{className:"min-h-[80vh] pb-20 flex flex-col",children:[e.jsxs("div",{className:"w-full md:grid md:grid-cols-12 md:gap-x-8",children:[e.jsxs("aside",{className:"hidden md:flex md:col-span-5 xl:col-span-4 flex-col gap-4 h-full",children:[e.jsx($e,{todayAd:Q,todayBs:C,todayDetails:F,onShowDetailsClick:ye}),e.jsx(de,{theme:s}),e.jsx(ue,{className:"mt-2 min-h-[150px]"})]}),e.jsxs("div",{id:"main-calendar-grid",className:"md:col-span-7 xl:col-span-8 flex flex-col gap-2 h-full scroll-mt-4",children:[e.jsx(_e,{activeSystem:k,currentYear:V,currentMonth:n,onYearChange:u=>k==="bs"?O(u):Y(u),onMonthChange:u=>k==="bs"?H(u):K(u),onPrevMonth:()=>E("prev"),onNextMonth:()=>E("next"),onPrevYear:()=>T("prev"),onNextYear:()=>T("next")}),e.jsx(Ue,{activeSystem:k,currentYear:V,currentMonth:n,onDayClick:v}),e.jsx(Fe,{activeSystem:k,currentYear:V,currentMonth:n}),e.jsx(Oe,{activeSystem:k,currentYear:V,currentMonth:n}),e.jsx(ue,{className:"mt-4 md:hidden"})]})]}),e.jsx("div",{className:"mt-8",children:e.jsx(He,{activeSystem:k})}),e.jsx("div",{className:"mt-8 md:hidden px-4",children:e.jsx(de,{theme:s,showTimeline:!0,height:500,width:"100%"})}),e.jsxs("div",{className:"md:grid md:grid-cols-12 md:gap-x-8 relative mt-8",children:[e.jsx("aside",{className:"hidden md:flex md:col-span-5 xl:col-span-4 flex-col h-full",children:e.jsx(Ke,{date:`${J(C.year)} ${C.monthName} ${J(C.day)}`,dateKey:`${C.year}-${C.monthIndex+1}-${C.day}`,tithi:F?.tithis?.[0]?.name,nakshatra:F?.nakshatras?.[0]?.name,className:"flex-1",onViewAll:()=>c("rashifal")})}),e.jsx("div",{className:"md:col-span-7 xl:col-span-8 relative",children:e.jsx("div",{className:"-mt-6 md:mt-0 md:absolute md:inset-0 md:overflow-hidden",children:e.jsx(Qe,{activeSystem:k,currentYear:V||2081,currentMonth:n,compactMode:!0,onBlogClick:u=>{M({source:"calendar",slug:G(u.title)}),c("blog-detail")},onViewAll:()=>c("dharma"),onTagClick:u=>{Z({tag:u}),c("dharma")}})})})]})]})]}):l==="day-detail"?e.jsx(Ze,{onBack:()=>{window.history.pushState({},"",oe()),c("calendar")}}):l==="blog-detail"&&ae?e.jsx(ea,{blog:ae,onBack:ve,onNavigate:u=>{M({source:D?.source||"calendar",slug:G(u.title)}),window.scrollTo(0,0)}}):(()=>{const u=ie.find(A=>A.key===l);if(u&&u.page){const A=u.page,$={onBack:()=>c("calendar"),theme:s,activeSystem:k};let z={...$,...ee};return l==="settings"?z={...$,currentTheme:s,onThemeChange:r,currentMenuStyle:i,onMenuStyleChange:w,currentDesktopLayoutStyle:o,onDesktopLayoutStyleChange:p,onResetSettings:we,isAndroidApp:fe,onReloadApp:ce}:l==="kundali"?z={...$,setIsKundaliResultsVisible:b,setKundaliBackAction:S}:l==="dharma"?z={...$,activeSystem:k,currentYear:V||2081,currentMonth:n,tag:ee?.tag,onNavigate:(te,se)=>{te==="blog-detail"?(M({source:"dharma",slug:G(se.title)}),c("blog-detail")):te==="dharma"&&(Z(se),c("dharma"))},setIsDharmaResultsVisible:y,setDharmaBackAction:B}:l==="rashifal"&&(z={...$,date:`${J(C.year)} ${C.monthName} ${J(C.day)}`,dateKey:`${C.year}-${C.monthIndex+1}-${C.day}`,tithi:F?.tithis?.[0]?.name,nakshatra:F?.nakshatras?.[0]?.name}),e.jsx(t.Suspense,{fallback:e.jsx("div",{className:"flex justify-center items-center pb-20 min-h-[60vh]",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}),children:e.jsx(A,{...z})})}return null})(),l==="calendar"&&e.jsx(ra,{onNavigate:(u,A)=>{c(u),Z(A||null),u==="calendar"&&A&&typeof A.month=="number"&&(k==="bs"?H(A.month):K(A.month))}})]})}),i==="slide"&&e.jsx("div",{className:"fixed bottom-0 left-0 right-0 w-full bg-slate-200 dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 z-50 print:hidden md:hidden",children:e.jsx(ze,{})}),i==="tabs"&&e.jsx("div",{className:"md:hidden print:hidden fixed bottom-0 left-0 right-0 z-[1000]",children:e.jsx(Xe,{activeView:l,onNavigate:u=>{u==="about"?R(!0):c(u)},theme:s,onThemeToggle:r,themeLabel:s==="light"?P.darkMode:P.lightMode})}),e.jsx(Ge,{date:N,isOpen:_,onClose:()=>x(!1),activeSystem:k}),W&&e.jsx(aa,{setIsAboutOpen:R}),e.jsx(Je,{})]})};ta.Icon.Default.mergeOptions({iconUrl:na,shadowUrl:la,iconRetinaUrl:sa});me({onNeedRefresh(){confirm("A new version is available. Reload to update?")&&window.location.reload()},onOfflineReady(){console.log("App ready to work offline")}});Ee.createRoot(document.getElementById("root")).render(e.jsx(t.StrictMode,{children:e.jsx(ha,{})}));
