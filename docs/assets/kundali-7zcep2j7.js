import{r as x,j as e,b as Ve,T as He,u as qe,c as Ze,d as We,R as Ge}from"./vendor-react-CMh7LEwM.js";import{t as H,g as Xe,N as a,a as m,b as q,f as Ue,c as Y,d as M,e as z,R as Je,h as ce,i as ve,j as Qe,k as et}from"./bikram-B7Ssp7vD.js";import{n as U,T as W,B as G,L as tt,X as De,S as at,M as st,a as we,C as J,P as Se}from"./data-B8LYF7zK.js";import{t as rt}from"./vendor-utils-y-iLWhYP.js";const nt=U.find(t=>t.romanization.toLowerCase()==="kathmandu"),L=nt??U[0],lt=({label:t,children:l,...r})=>e.jsxs("div",{className:"relative w-full",children:[e.jsx("select",{...r,className:"w-full appearance-none bg-gray-100 border border-gray-300 rounded-md py-2 px-3 text-sm text-gray-800 focus:outline-none focus:bg-slate-200 focus:border-blue-400 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200 dark:focus:bg-blue-400 dark:focus:border-blue-400",children:l}),e.jsx("label",{className:"absolute -top-2 left-2.5 bg-gray-100 px-1 text-xs text-gray-500 dark:bg-gray-700 dark:text-gray-400",children:t}),e.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700 dark:text-gray-300",children:e.jsx(J,{className:"w-4 h-4"})})]}),ot=()=>{const t=qe();return x.useEffect(()=>{const l=setTimeout(()=>{try{t.invalidateSize()}catch{}},150);return()=>clearTimeout(l)},[t]),null},dt=({onClose:t,onLocationSelect:l,initialPosition:r})=>{const[o,d]=x.useState(r),g=()=>(Ze({click(u){d([u.latlng.lat,u.latlng.lng])}}),e.jsx(We,{position:o})),n=()=>{l(o[0],o[1]),t()};return e.jsx("div",{style:{position:"fixed",inset:0,top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",zIndex:9999,display:"flex",justifyContent:"center",alignItems:"center",padding:12},children:e.jsxs("div",{style:{width:"95%",maxWidth:960,height:620,display:"flex",flexDirection:"column",borderRadius:12,overflow:"hidden",background:void 0},className:"bg-slate-50 dark:bg-gray-800 dark:text-gray-200 rounded-lg shadow-lg",children:[e.jsxs("div",{className:"flex justify-between items-center border-b p-3 dark:border-gray-700",children:[e.jsx("h3",{className:"text-lg font-semibold",children:a.selectOnMap}),e.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-100",children:e.jsx(De,{className:"w-5 h-5"})})]}),e.jsx("div",{style:{flex:1,minHeight:420,display:"flex",justifyContent:"center",alignItems:"center",position:"relative"},children:e.jsxs(Ve,{center:r,zoom:7,scrollWheelZoom:!0,style:{height:"100%",width:"100%"},children:[e.jsx(He,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),e.jsx(ot,{}),e.jsx(g,{})]},`${r[0]}-${r[1]}`)}),e.jsxs("div",{className:"border-t p-3 flex justify-between items-center dark:border-gray-700",children:[e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Lat: ",o[0].toFixed(4),", Lon: ",o[1].toFixed(4)]}),e.jsx("button",{onClick:n,className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 dark:bg-blue-400 dark:text-blue-900 dark:hover:bg-blue-500 dark:hover:text-white",children:a.selectLocation})]})]})})},fe=({children:t})=>e.jsx("div",{className:"grid grid-cols-3 border border-gray-300 rounded-md overflow-hidden divide-x divide-gray-300 focus-within:border-blue-500 focus-within:ring-1 focus-within:ring-blue-500 dark:border-gray-600 dark:divide-gray-600 dark:focus-within:border-blue-400 dark:focus-within:ring-blue-400",children:t}),F=({label:t,children:l,...r})=>e.jsxs("div",{className:"relative",children:[e.jsx("label",{className:"absolute top-1 left-2 text-xs text-gray-500 z-10 dark:text-gray-400",children:t}),e.jsx("select",{...r,className:"relative w-full appearance-none bg-gray-100 pt-5 pb-1.5 px-2 text-sm text-gray-800 focus:outline-none focus:bg-slate-200 z-0 dark:bg-gray-700 dark:text-gray-200 dark:focus:bg-gray-600",children:l}),e.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700 z-10 dark:text-gray-300",children:e.jsx(J,{className:"w-4 h-4"})})]}),Ne=({onCalculate:t,isLoading:l,isEmbedded:r=!1,defaultValues:o})=>{const d=new Date,g=H(d),[n,u]=x.useState(o?.name||"प्रयोगकर्ता"),[c,j]=x.useState(o?.dateSystem||"BS"),[v,i]=x.useState(!1),[y,N]=x.useState("search"),[p,k]=x.useState(d.getFullYear()),[h,Q]=x.useState(d.getMonth()+1),[C,Z]=x.useState(d.getDate()),[w,ee]=x.useState(o?.bsYear||g.year),[I,te]=x.useState(o?.bsMonth||g.monthIndex+1),[f,D]=x.useState(o?.bsDay||g.day),[A,he]=x.useState(o?.period||"PM"),[K,Me]=x.useState(o?.hour||4),[ae,Ce]=x.useState(o?.minute||15),[se,Ie]=x.useState(o?.second||0),[T,ge]=x.useState(L),[$,re]=x.useState(L?.latitude??27.7172),[_,ne]=x.useState(L?.longitude??85.324),[le,R]=x.useState(L?.zoneId??"Asia/Kathmandu"),[Ae,be]=x.useState(!1),[oe,Pe]=x.useState("");x.useEffect(()=>{if(!(typeof $!="number"||typeof _!="number"||isNaN($)||isNaN(_)))try{const s=rt($,_),b=W.some(E=>E.zoneId===s);R(b?s:L?.zoneId??"Asia/Kathmandu")}catch(s){console.error("tzlookup failed:",s),R(L?.zoneId??"Asia/Kathmandu")}},[$,_,L?.zoneId]);const Le=x.useMemo(()=>Array.from({length:G.BS_END_YEAR-G.BS_START_YEAR+1},(s,b)=>G.BS_END_YEAR-b),[]),Te=x.useMemo(()=>Array.from({length:102},(s,b)=>2034-b),[]),$e=x.useMemo(()=>Array.from({length:12},(s,b)=>b+1),[]),ue=x.useMemo(()=>Array.from({length:60},(s,b)=>b),[]),B=x.useMemo(()=>{const s=G.NP_MONTHS_DATA[w];return c==="BS"?s?s[I-1]:30:Xe(p,h)},[c,w,I,p,h]),_e=x.useMemo(()=>{const s=oe.toLowerCase().trim();return s?U.filter(b=>b.name.includes(s)||b.romanization&&b.romanization.toLowerCase().includes(s)):U.slice(0,50)},[oe]);x.useEffect(()=>{c==="BS"&&f>B&&D(B),c==="AD"&&C>B&&Z(B)},[B,c,f,C]);const Be=s=>{ge(s),re(s.latitude),ne(s.longitude),R(s.zoneId),i(!1)},Ee=(s,b)=>{re(s),ne(b),ge({name:`${s.toFixed(4)}, ${b.toFixed(4)}`,romanization:"Manual Selection",latitude:s,longitude:b,zoneId:le,offset:W.find(E=>E.zoneId===le)?.offset??5.75}),i(!1)},Fe=()=>{const s=P=>P.toString().padStart(2,"0");let b=p,E=h,pe=C;if(c==="BS"){const P=Ue(w,I-1,f);b=P.getFullYear(),E=P.getMonth()+1,pe=P.getDate()}let ie=K;A==="PM"&&K<12&&(ie+=12),A==="AM"&&K===12&&(ie=0);const ze=`${b}-${s(E)}-${s(pe)}T${s(ie)}:${s(ae)}:${s(se)}`,Ke=T.latitude,Re=T.longitude,je=T.zoneId,ye=W.find(P=>P.zoneId===je),Ye=ye?ye.offset:5.75;return{name:n,datetime:ze,latitude:Ke,longitude:Re,zoneId:je,offset:Ye,options:{zodiac:"SIDEREAL",ayanamsa:"LAHIRI",houseSystem:"WHOLE_SIGN",divisionalCharts:[9],dashaSystem:"VIMSHOTTARI"}}},de=x.useMemo(()=>Fe(),[n,c,p,h,C,w,I,f,K,ae,se,A,T]);x.useEffect(()=>{if(r){const s=setTimeout(()=>{t(de)},500);return()=>{clearTimeout(s)}}},[r,t,de]);const Oe=s=>{s.preventDefault(),t(de)};return e.jsxs("form",{onSubmit:Oe,className:"space-y-6 bg-slate-50 dark:bg-gray-800/50 rounded-xl p-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",id:"name",value:n,onChange:s=>u(s.target.value),required:!0,className:"w-full bg-gray-100 border border-gray-300 rounded-md py-2 px-3 text-sm text-gray-800 focus:outline-none focus:bg-slate-200 focus:border-blue-400 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-100 dark:focus:bg-gray-600 dark:focus:border-blue-400"}),e.jsx("label",{htmlFor:"name",className:"absolute -top-2 left-2.5 bg-gray-100 px-1 text-xs text-gray-500 dark:bg-gray-700 dark:text-gray-400",children:a.name})]}),e.jsx("div",{className:"flex justify-center",children:e.jsxs("div",{className:"flex p-1 bg-gray-200 dark:bg-gray-700 rounded-md",children:[e.jsx("button",{type:"button",onClick:()=>j("BS"),className:`px-4 py-1 text-sm rounded ${c==="BS"?"bg-blue-500 text-white":"text-gray-600 dark:text-gray-300"}`,children:a.bs}),e.jsx("button",{type:"button",onClick:()=>j("AD"),className:`px-4 py-1 text-sm rounded ${c==="AD"?"bg-blue-500 text-white":"text-gray-600 dark:text-gray-300"}`,children:a.ad})]})}),e.jsxs(fe,{children:[e.jsx(F,{label:a.year,value:c==="BS"?w:p,onChange:s=>c==="BS"?ee(Number(s.target.value)):k(Number(s.target.value)),children:(c==="BS"?Le:Te).map(s=>e.jsx("option",{value:s,children:m(s)},s))}),e.jsx(F,{label:a.month,value:c==="BS"?I:h,onChange:s=>c==="BS"?te(Number(s.target.value)):Q(Number(s.target.value)),children:Array.from({length:12},(s,b)=>e.jsx("option",{value:b+1,children:c==="BS"?q[b]:b+1},b+1))}),e.jsx(F,{label:a.day,value:c==="BS"?f:C,onChange:s=>c==="BS"?D(Number(s.target.value)):Z(Number(s.target.value)),children:Array.from({length:B},(s,b)=>e.jsx("option",{value:b+1,children:m(b+1)},b+1))})]}),e.jsxs(fe,{children:[e.jsx(F,{label:a.hour,value:K,onChange:s=>Me(Number(s.target.value)),children:$e.map(s=>e.jsx("option",{value:s,children:m(s)},s))}),e.jsx(F,{label:a.minute,value:ae,onChange:s=>Ce(Number(s.target.value)),children:ue.map(s=>e.jsx("option",{value:s,children:m(s)},s))}),e.jsx(F,{label:a.second,value:se,onChange:s=>Ie(Number(s.target.value)),children:ue.map(s=>e.jsx("option",{value:s,children:m(s)},s))})]}),e.jsx("div",{className:"flex justify-center",children:e.jsxs("div",{className:"flex p-1 bg-gray-200 dark:bg-gray-700 rounded-md",children:[e.jsx("button",{type:"button",onClick:()=>he("AM"),className:`px-4 py-1 text-sm rounded ${A==="AM"?"bg-blue-500 text-white":"text-gray-600 dark:text-gray-300"}`,children:a.am}),e.jsx("button",{type:"button",onClick:()=>he("PM"),className:`px-4 py-1 text-sm rounded ${A==="PM"?"bg-blue-500 text-white":"text-gray-600 dark:text-gray-300"}`,children:a.pm})]})}),e.jsxs("div",{className:"relative",children:[e.jsx("label",{className:"absolute -top-2 left-2.5 bg-gray-100 px-1 text-xs text-gray-500 dark:bg-gray-700 dark:text-gray-400 z-10",children:a.location}),e.jsxs("button",{type:"button",onClick:()=>{i(!0),N("search")},className:"w-full bg-gray-100 border border-gray-300 rounded-md py-2 px-3 text-sm text-gray-800 focus:outline-none focus:bg-slate-200 focus:border-blue-400 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200 flex justify-between items-center text-left",children:[e.jsxs("span",{children:[T.name," ",e.jsxs("span",{className:"text-gray-500 dark:text-gray-400 text-xs",children:["(",T.romanization,")"]})]}),e.jsx(tt,{className:"w-4 h-4 text-gray-500"})]})]}),v&&e.jsx("div",{className:"fixed inset-0 flex items-start justify-center bg-black/60 z-50 p-4 pt-8 sm:pt-8 transition-opacity",onClick:()=>i(!1),children:e.jsxs("div",{className:"bg-slate-200 dark:bg-gray-800 w-full h-full sm:h-auto sm:max-h-[90vh] sm:rounded-lg shadow-xl max-w-lg p-4 flex flex-col transition-transform",onClick:s=>s.stopPropagation(),children:[e.jsxs("div",{className:"flex justify-between items-center pb-3 border-b dark:border-gray-700",children:[e.jsx("h3",{className:"text-lg font-semibold",children:y==="search"?a.searchOrSelectLocation:a.enterManually}),e.jsx("button",{onClick:()=>i(!1),className:"text-gray-500 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-100",children:e.jsx(De,{className:"w-5 h-5"})})]}),y==="search"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"relative my-4",children:[e.jsx(at,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:a.locationSearchPlaceholder,value:oe,onChange:s=>Pe(s.target.value),className:"w-full bg-gray-100 border border-gray-300 rounded-md py-2 pl-10 pr-3 text-sm text-gray-800 focus:outline-none focus:bg-slate-200 focus:border-blue-400 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-100 dark:focus:bg-gray-600 dark:focus:border-blue-400"})]}),e.jsx("div",{className:"overflow-y-auto flex-1",children:_e.map(s=>e.jsxs("div",{onClick:()=>Be(s),className:"p-2.5 cursor-pointer hover:bg-blue-100 dark:hover:bg-blue-900/50 rounded-md text-sm flex justify-between",children:[e.jsx("span",{children:s.name}),e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:s.romanization})]},s.name))}),e.jsx("div",{className:"pt-3 mt-3 border-t dark:border-gray-700 text-center",children:e.jsxs("button",{onClick:()=>N("manual"),className:"text-sm text-blue-600 dark:text-blue-400 hover:underline",children:[a.cantFindLocation," ",a.enterManuallyOrMap]})})]}):e.jsxs("div",{className:"pt-4 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",step:"0.0001",id:"latitude",value:$,onChange:s=>re(parseFloat(s.target.value)),required:!0,className:"w-full bg-gray-100 border border-gray-300 rounded-md py-2 px-3 text-sm text-gray-800 focus:outline-none focus:bg-slate-200 focus:border-blue-400 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-100 dark:focus:bg-gray-600 dark:focus:border-blue-400"}),e.jsx("label",{htmlFor:"latitude",className:"absolute -top-2 left-2.5 bg-slate-200 px-1 text-xs text-gray-500 dark:bg-gray-800 dark:text-gray-400",children:a.latitudeShort})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",step:"0.0001",id:"longitude",value:_,onChange:s=>ne(parseFloat(s.target.value)),required:!0,className:"w-full bg-gray-100 border border-gray-300 rounded-md py-2 px-3 text-sm text-gray-800 focus:outline-none focus:bg-slate-200 focus:border-blue-400 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-100 dark:focus:bg-gray-600 dark:focus:border-blue-400"}),e.jsx("label",{htmlFor:"longitude",className:"absolute -top-2 left-2.5 bg-slate-200 px-1 text-xs text-gray-500 dark:bg-gray-800 dark:text-gray-400",children:a.longitudeShort})]})]}),e.jsx(lt,{label:a.timezone,value:le,onChange:s=>R(s.target.value),children:W.map(s=>e.jsx("option",{value:s.zoneId,children:s.label},s.zoneId))}),e.jsxs("button",{type:"button",onClick:()=>be(!0),className:"w-full flex justify-center items-center gap-2 py-2 bg-gray-200 hover:bg-gray-300 rounded-md dark:bg-gray-600 dark:hover:bg-gray-500","aria-label":a.selectOnMap,children:[e.jsx(st,{className:"w-5 h-5"})," ",a.selectOnMap]}),e.jsx("div",{className:"text-center",children:e.jsxs("button",{onClick:()=>N("search"),className:"text-sm text-blue-600 dark:text-blue-400 hover:underline",children:["← ",a.backToSearch]})})]})]})}),Ae&&e.jsx(dt,{onClose:()=>be(!1),onLocationSelect:Ee,initialPosition:[$,_]}),!r&&e.jsx("div",{className:"pt-4",children:e.jsx("button",{type:"submit",disabled:l,className:"w-full flex justify-center items-center py-3 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-blue-500 hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:bg-gray-400 disabled:cursor-not-allowed dark:bg-blue-600 dark:hover:bg-blue-700 dark:disabled:bg-gray-500",children:l?e.jsxs(e.Fragment,{children:[e.jsx(we,{className:"w-5 h-5 mr-3 animate-spin"}),a.calculating]}):a.calculate})})]})},it=({cx:t,cy:l,onSelect:r})=>e.jsxs("svg",{className:"absolute inset-0 w-full h-full",viewBox:"0 0 400 400",children:[e.jsx("defs",{children:e.jsx("path",{id:"lotus-petal",d:`M 200 200
             C 150 150, 150 50, 200 0
             C 250 50, 250 150, 200 200 Z`})}),Array.from({length:12},(o,d)=>e.jsx("use",{href:"#lotus-petal",fill:"transparent",className:"overlay-wedge",style:{cursor:"pointer",pointerEvents:"auto"},transform:`rotate(${-d*30-90}, ${t}, ${l})`,onClick:()=>r(d+1)},d))]}),ct={10:0,11:-30,12:-60,1:-90,2:-120,3:-150,4:-180,5:-210,6:-240,7:-270,8:-300,9:-330};function X(t){const l=Math.floor(t),r=Math.floor((t-l)*60);return`${m(l)}°${m(r)}′`}function ke(t){const l=Math.round(t/30*100);return`${m(l)}%`}const xt=({planets:t,ascendantSign:l,ascendantDegrees:r,ascendantNakshatra:o,ascendantNakshatraPada:d,chartType:g="lagna"})=>{const[n,u]=x.useState(null),c=t.find(i=>i.planet==="MOON"),j=c?.rashi??1,v=x.useMemo(()=>{const i=new Map;return t.forEach(y=>{const N=y.rashi,p=g==="chandra"?(N-j+12)%12+1:N;i.has(p)||i.set(p,[]),i.get(p).push(y)}),i},[t,g,j]);return e.jsxs("div",{className:"birth-chart-wrapper text-stone-800 dark:text-stone-100",children:[e.jsxs("div",{className:"birth-chart",children:[Array.from({length:12},(i,y)=>y+1).map(i=>{const y=v.get(i)||[],N=ct[i];if(N===void 0)return null;const p=[];return g!=="chandra"&&i===l&&p.push(e.jsxs("div",{className:"planet-item ascendant",children:[e.jsx("span",{children:Y.ASCENDANT}),r!==void 0&&e.jsx("span",{className:"planet-deg",children:X(r)})]},"asc")),g==="chandra"&&i===1&&p.push(e.jsx("div",{className:"planet-item ascendant",children:e.jsxs("span",{children:[Y.ASCENDANT," (चन्द्र)"]})},"asc-chandra")),y.forEach(k=>{p.push(e.jsxs("div",{className:"planet-item",children:[e.jsx("span",{className:k.retrograde?"retrograde":"",children:Y[k.planet]}),k.degreesInSign!==void 0&&e.jsx("span",{className:"planet-deg",children:X(k.degreesInSign)})]},k.planet))}),e.jsxs("div",{className:"petal",style:{transform:`translateX(-50%) rotate(${N}deg)`},children:[e.jsx("div",{className:"rashi-number font-semibold",children:m(i)}),e.jsx("div",{className:"planets-container",children:p})]},i)}),e.jsx("div",{className:"chart-center-dot text-2xl font-bold dark:text-red-400",children:"ॐ"}),e.jsx(it,{cx:200,cy:200,onSelect:i=>u(i)})]}),n&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black/50 z-50",onClick:()=>u(null),children:e.jsxs("div",{className:"bg-slate-200 dark:bg-gray-800 dark:text-stone-100 rounded-lg shadow-lg p-6 max-w-md w-full transition-colors duration-300",onClick:i=>i.stopPropagation(),children:[e.jsxs("h3",{className:"font-bold text-lg mb-2 text-blue-600 dark:text-blue-400",children:["घर ",m(n)," – ",M[n-1]," (स्वामी:"," ",z[Je[n]],")"]}),g!=="chandra"&&n===l&&r!==void 0&&e.jsxs("div",{className:"mb-2",children:[e.jsxs("div",{className:"flex justify-between text-stone-800 dark:text-stone-100",children:[e.jsxs("span",{children:[Y.ASCENDANT," (",M[l-1],")"]}),e.jsxs("span",{children:[X(r)," (",ke(r),")"]})]}),o&&d&&e.jsxs("div",{className:"text-sm ml-2 text-gray-600 dark:text-gray-400",children:[ce[o],m(d)]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 h-2 rounded",children:e.jsx("div",{className:"bg-green-500 h-2 rounded",style:{width:`${Math.round(r/30*100)}%`}})})]}),g==="chandra"&&n===1&&c&&e.jsxs("div",{className:"mb-2",children:[e.jsx("div",{className:"flex justify-between text-stone-800 dark:text-stone-100",children:e.jsxs("span",{children:[Y.ASCENDANT," (चन्द्र)"]})}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 h-2 rounded",children:e.jsx("div",{className:"bg-green-500 h-2 rounded",style:{width:`${Math.round((c.degreesInSign||0)/30*100)}%`}})}),c.nakshatra&&c.nakshatraPada&&e.jsxs("div",{className:"text-sm text-red-600 dark:text-red-400 font-semibold mt-1",children:["जनम नक्षत्र:"," ",ce[c.nakshatra],m(c.nakshatraPada)]})]}),(v.get(n)||[]).map(i=>{if(g==="chandra"&&n===1&&i.planet==="MOON")return null;const y=i.degreesInSign!==void 0?Math.round(i.degreesInSign/30*100):null;return e.jsxs("div",{className:"mb-2",children:[e.jsxs("div",{className:"flex justify-between text-stone-800 dark:text-stone-100",children:[e.jsx("span",{className:i.retrograde?"font-bold text-blue-600 dark:text-blue-400":"",children:z[i.planet]}),i.degreesInSign!==void 0&&e.jsxs("span",{children:[X(i.degreesInSign)," (",ke(i.degreesInSign),")"]})]}),i.nakshatra&&i.nakshatraPada&&e.jsxs("div",{className:"text-sm ml-2 text-gray-600 dark:text-gray-400",children:[ce[i.nakshatra],m(i.nakshatraPada)]}),y!==null&&e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 h-2 rounded",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded",style:{width:`${y}%`}})})]},i.planet)})]})})]})},mt=({planets:t})=>e.jsxs("div",{className:"kundali-card p-4 sm:p-6 rounded-lg overflow-x-auto dark:bg-gray-800 dark:text-stone-100 transition-colors duration-300",children:[e.jsx("h3",{className:"text-xl font-bold text-blue-400 dark:text-blue-400 mb-4",children:a.planetaryPositions}),e.jsxs("table",{className:"w-full text-left text-sm sm:text-base",children:[e.jsx("thead",{className:"border-b-2 border-amber-200 dark:border-amber-700 text-stone-600 dark:text-stone-300",children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-2 px-2",children:a.planet}),e.jsx("th",{className:"py-2 px-2",children:a.rashi}),e.jsx("th",{className:"py-2 px-2",children:a.degrees}),e.jsx("th",{className:"py-2 px-2",children:a.nakshatra}),e.jsx("th",{className:"py-2 px-2",children:a.pada})]})}),e.jsx("tbody",{children:t.map(l=>e.jsxs("tr",{className:"border-b border-amber-100 dark:border-stone-700 hover:bg-amber-50/70 dark:hover:bg-gray-800 transition-colors duration-200",children:[e.jsxs("td",{className:"py-2 px-2 font-medium text-stone-800 dark:text-stone-100",children:[z[l.planet],l.retrograde&&e.jsxs("span",{className:"text-blue-600 dark:text-blue-400 ml-1",children:["(",a.retrograde,")"]})]}),e.jsx("td",{className:"py-2 px-2",children:M[l.rashi-1]}),e.jsx("td",{className:"py-2 px-2 font-mono",children:ve(l.degreesInSign)}),e.jsx("td",{className:"py-2 px-2",children:l.nakshatra}),e.jsx("td",{className:"py-2 px-2",children:m(l.nakshatraPada)})]},l.planet))})]})]}),me=({data:t,title:l,titleClassName:r})=>{const o=f=>{if(!f)return"?";try{const D=new Date(f);return new Date(D.getTime()+t.birthDetails.offset*60*60*1e3).toLocaleTimeString("ne-NP",{hour:"numeric",minute:"2-digit",hour12:!0}).replace("AM","बिहान").replace("PM","बेलुका")}catch{return"?"}},d=f=>{const D=new Date(f);return new Date(D.getTime()+t.birthDetails.offset*3600*1e3)},g=d(t.birthDetails.datetime),n=new Date(g.getFullYear(),g.getMonth(),g.getDate()),u=f=>{if(!f)return!1;const D=d(f);return new Date(D.getFullYear(),D.getMonth(),D.getDate()).getTime()<n.getTime()},c=new Date,j=new Date(c.getFullYear(),c.getMonth(),c.getDate()),i=n.getTime()===j.getTime()?a.yesterdayFrom:a.previousDayFrom,y=t.planets.find(f=>f.planet==="MOON"),N=t.planets.find(f=>f.planet==="SUN"),p=new Date(t.birthDetails.datetime),k=H(p),h=`${m(k.year)} ${q[k.monthIndex]} ${m(k.day)}`,Q=Qe[p.getDay()],C=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"numeric"}).format(p),Z=new Intl.DateTimeFormat("ne-NP",{hour:"numeric",minute:"numeric",hour12:!0}).format(p),w=et[t.nakshatra.index],ee=w?w.syllables[t.nakshatra.pada-1]:"?",I=M[t.ascendant.sign-1],te=ve(t.ascendant.degreesInSign);return e.jsxs("div",{className:"kundali-card p-4 sm:p-6 rounded-lg h-full bg-slate-200 dark:bg-gray-800",children:[e.jsx("h3",{className:`text-xl font-bold mb-4 text-center ${r||"text-blue-400 dark:text-blue-400"}`,children:l||a.birthDetails}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-6 gap-y-2 text-sm",children:[e.jsxs("div",{className:"flex gap-1 items-start ",children:[e.jsxs("span",{className:"text-stone-500 dark:text-stone-400",children:[a.birthDateBS,":"]}),e.jsx("span",{className:"font-semibold text-stone-800 dark:text-stone-100",children:h})]}),e.jsxs("div",{className:"flex gap-1 items-start",children:[e.jsxs("span",{className:"text-stone-500 dark:text-stone-400",children:[a.birthDateAD,":"]}),e.jsx("span",{className:"font-semibold text-stone-800 dark:text-stone-100",children:C})]}),e.jsxs("div",{className:"flex gap-1 items-start",children:[e.jsxs("span",{className:"text-stone-500 dark:text-stone-400",children:[a.birthTime,":"]}),e.jsx("span",{className:"font-semibold text-stone-800 dark:text-stone-100",children:Z})]}),e.jsxs("div",{className:"flex gap-1 items-start",children:[e.jsxs("span",{className:"text-stone-500 dark:text-stone-400",children:[a.dayOfWeek,":"]}),e.jsx("span",{className:"font-semibold text-stone-800 dark:text-stone-100",children:Q})]})]}),e.jsxs("div",{className:"mt-6 pt-4 border-t-2 border-amber-200 dark:border-amber-700",children:[e.jsx("h3",{className:"text-lg font-bold text-blue-400 dark:text-blue-400 mb-2",children:a.dailyTimings}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 gap-x-6 gap-y-2 text-sm",children:[e.jsxs("div",{className:"flex gap-1 items-start",children:[e.jsxs("span",{className:"text-stone-500 dark:text-stone-400",children:[a.sunrise,":"]}),e.jsx("span",{className:"font-semibold text-stone-800 dark:text-stone-100",children:m(t.sunRise)})]}),e.jsxs("div",{className:"flex gap-1 items-start",children:[e.jsxs("span",{className:"text-stone-500 dark:text-stone-400",children:[a.sunset,":"]}),e.jsx("span",{className:"font-semibold text-stone-800 dark:text-stone-100",children:m(t.sunSet)})]}),e.jsxs("div",{className:"flex gap-1 items-start",children:[e.jsxs("span",{className:"text-stone-500 dark:text-stone-400",children:[a.moonrise,":"]}),e.jsx("span",{className:"font-semibold text-stone-800 dark:text-stone-100",children:m(t.moonRise)})]}),e.jsxs("div",{className:"flex gap-1 items-start",children:[e.jsxs("span",{className:"text-stone-500 dark:text-stone-400",children:[a.moonset,":"]}),e.jsx("span",{className:"font-semibold text-stone-800 dark:text-stone-100",children:m(t.moonSet)})]})]})]}),e.jsxs("div",{className:"mt-6 pt-4 border-t-2 border-amber-200 dark:border-amber-700",children:[e.jsx("h3",{className:"text-lg font-bold text-blue-400 dark:text-blue-400 mb-3",children:a.astrologicalDetails}),e.jsxs("div",{className:"grid grid-cols-[auto_1fr] items-center gap-x-4 gap-y-3 text-sm",children:[e.jsxs("span",{className:"text-stone-500 dark:text-stone-400 text-right",children:[a.lagna,":"]}),e.jsxs("span",{className:"font-semibold text-stone-800 dark:text-stone-100 text-left",children:[I," (",te,")"]}),t.ashtaKoota.lagnesh&&e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"text-stone-500 dark:text-stone-400 text-right",children:[a.lagnesh,":"]}),e.jsx("span",{className:"font-semibold text-stone-800 dark:text-stone-100 text-left",children:t.ashtaKoota.lagnesh})]}),y&&e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"text-stone-500 dark:text-stone-400 text-right",children:[a.moonSign,":"]}),e.jsx("span",{className:"font-semibold text-stone-800 dark:text-stone-100 text-left",children:M[y.rashi-1]})]}),t.ashtaKoota.rashiLord&&e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"text-stone-500 dark:text-stone-400 text-right",children:[a.rashiLord,":"]}),e.jsx("span",{className:"font-semibold text-stone-800 dark:text-stone-100 text-left",children:t.ashtaKoota.rashiLord})]}),N&&e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"text-stone-500 dark:text-stone-400 text-right",children:[a.sunSign,":"]}),e.jsx("span",{className:"font-semibold text-stone-800 dark:text-stone-100 text-left",children:M[N.rashi-1]})]}),e.jsxs("span",{className:"text-stone-500 dark:text-stone-400 text-right",children:[a.birthNakshatra,":"]}),e.jsxs("div",{className:"text-left",children:[e.jsxs("span",{className:"font-semibold text-stone-800 dark:text-stone-100",children:[t.nakshatra.nameNepali," (",m(t.nakshatra.pada),")"]}),e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[u(t.nakshatra.start)&&e.jsxs("span",{className:"text-red-500 font-sans",children:[i," "]}),o(t.nakshatra.start)," देखि ",o(t.nakshatra.end)," सम्म"]})]}),e.jsxs("span",{className:"text-stone-500 dark:text-stone-400 text-right",children:[a.tithi,":"]}),e.jsxs("div",{className:"text-left",children:[e.jsxs("span",{className:"font-semibold text-stone-800 dark:text-stone-100",children:[t.tithi.paksha," - ",m(t.tithi.tithiNumber)]}),e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[u(t.tithi.start)&&e.jsxs("span",{className:"text-red-500 font-sans",children:[i," "]}),o(t.tithi.start)," देखि ",o(t.tithi.end)," सम्म"]})]}),e.jsxs("span",{className:"text-stone-500 dark:text-stone-400 text-right",children:[a.yoga,":"]}),e.jsxs("div",{className:"text-left",children:[e.jsx("span",{className:"font-semibold text-stone-800 dark:text-stone-100",children:t.yoga.name}),e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[u(t.yoga.start)&&e.jsxs("span",{className:"text-red-500 font-sans",children:[i," "]}),o(t.yoga.start)," देखि ",o(t.yoga.end)," सम्म"]})]}),e.jsxs("span",{className:"text-stone-500 dark:text-stone-400 text-right",children:[a.karana,":"]}),e.jsxs("div",{className:"text-left",children:[e.jsx("span",{className:"font-semibold text-stone-800 dark:text-stone-100",children:t.karana.name}),e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[u(t.karana.start)&&e.jsxs("span",{className:"text-red-500 font-sans",children:[i," "]}),o(t.karana.start)," देखि ",o(t.karana.end)," सम्म"]})]}),e.jsxs("span",{className:"text-stone-500 dark:text-stone-400 text-right",children:[a.suggestedSyllable,":"]}),e.jsx("span",{className:"font-bold text-amber-600 dark:text-amber-600 text-lg text-left",children:ee})]})]}),t.ashtaKoota&&e.jsxs("div",{className:"mt-6 pt-4 border-t-2 border-amber-200 dark:border-amber-700",children:[e.jsx("h3",{className:"text-lg font-bold text-blue-400 dark:text-blue-400 mb-3",children:a.gunaMilanDetails}),e.jsxs("div",{className:"grid grid-cols-[auto_1fr_auto_1fr] sm:grid-cols-[auto_1fr_auto_1fr_auto_1fr] gap-x-4 gap-y-2 text-sm items-baseline",children:[e.jsxs("span",{className:"text-stone-500 dark:text-stone-400",children:[a.varna,":"]}),e.jsx("span",{className:"font-semibold text-stone-800 dark:text-stone-100",children:t.ashtaKoota.varna}),e.jsxs("span",{className:"text-stone-500 dark:text-stone-400",children:[a.vasya,":"]}),e.jsx("span",{className:"font-semibold text-stone-800 dark:text-stone-100",children:t.ashtaKoota.vasya}),e.jsxs("span",{className:"text-stone-500 dark:text-stone-400",children:[a.gana,":"]}),e.jsx("span",{className:"font-semibold text-stone-800 dark:text-stone-100",children:t.ashtaKoota.gana}),e.jsxs("span",{className:"text-stone-500 dark:text-stone-400",children:[a.yoni,":"]}),e.jsx("span",{className:"font-semibold text-stone-800 dark:text-stone-100",children:t.ashtaKoota.yoni}),e.jsxs("span",{className:"text-stone-500 dark:text-stone-400",children:[a.nadi,":"]}),e.jsx("span",{className:"font-semibold text-stone-800 dark:text-stone-100",children:t.ashtaKoota.nadi}),e.jsxs("span",{className:"text-stone-500 dark:text-stone-400",children:[a.tatva,":"]}),e.jsx("span",{className:"font-semibold text-stone-800 dark:text-stone-100",children:t.ashtaKoota.tatva}),e.jsxs("span",{className:"text-stone-500 dark:text-stone-400",children:[a.paya,":"]}),e.jsx("span",{className:"font-semibold text-stone-800 dark:text-stone-100",children:t.ashtaKoota.paya})]})]}),e.jsxs("div",{className:"mt-6 pt-4 border-t-2 border-amber-200 dark:border-amber-700",children:[e.jsx("h3",{className:"text-lg font-bold text-blue-400 dark:text-blue-400 mb-2",children:a.calculationDetails}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-6 gap-y-2 text-sm",children:[e.jsxs("div",{className:"flex gap-1 items-start",children:[e.jsxs("span",{className:"text-stone-500 dark:text-stone-400",children:[a.backend,":"]}),e.jsxs("span",{className:"font-semibold text-stone-800 dark:text-stone-100",children:[t.calculationMeta.backend,": ",t.calculationMeta.version]})]}),e.jsxs("div",{className:"flex gap-1 items-start",children:[e.jsxs("span",{className:"text-stone-500 dark:text-stone-400",children:[a.ayanamsa,":"]}),e.jsx("span",{className:"font-semibold text-stone-800 dark:text-stone-100",children:t.calculationMeta.ayanamsa})]}),e.jsxs("div",{className:"flex gap-1 items-start",children:[e.jsxs("span",{className:"text-stone-500 dark:text-stone-400",children:[a.houseSystem,":"]}),e.jsx("span",{className:"font-semibold text-stone-800 dark:text-stone-100",children:t.calculationMeta.houseSystem})]})]})]})]})},O=t=>{if(!t||t==="N/A")return"N/A";try{const l=new Date(t);if(isNaN(l.getTime()))return"N/A";const r=H(l),o=m(r.year.toString()),d=q[r.monthIndex],g=m(r.day.toString());return`${o} ${d} ${g}`}catch(l){return console.error("Date formatting error:",l),"N/A"}},V=({dashaSequence:t,title:l})=>{const[r,o]=x.useState(null),d=l===a.jaiminiDasha,g=n=>{o(u=>u===n?null:n)};return e.jsxs("div",{className:"kundali-card p-4 sm:p-6 mb-11 print:mb-4 rounded-lg bg-slate-200 dark:bg-gray-800",children:[e.jsx("h3",{className:"text-xl font-bold text-blue-400 dark:text-blue-400 mb-4 print:hidden",children:l}),d&&e.jsx("p",{className:"text-xs text-stone-500 dark:text-stone-400 -mt-3 mb-3 px-2 print:hidden",children:a.jaiminiProportionalNote}),e.jsx("div",{className:"print:hidden",children:e.jsxs("table",{className:"w-full text-left text-sm sm:text-base border-collapse",children:[e.jsx("thead",{className:"border-b-2 border-amber-200 dark:border-amber-700 text-stone-600 dark:text-stone-300",children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-2 px-2",children:d?"दशा राशि":a.mahaDasha}),e.jsx("th",{className:"py-2 px-2",children:a.startsOn}),e.jsx("th",{className:"py-2 px-2",children:a.endsOn})]})}),e.jsx("tbody",{children:t.map(n=>{const u=n.planet+n.start,c=n.subDashas&&n.subDashas.length>0;return e.jsxs(Ge.Fragment,{children:[e.jsxs("tr",{className:`border-b border-amber-100 dark:border-amber-800 ${c?"cursor-pointer hover:bg-amber-50/70 dark:hover:bg-amber-900/40":""}`,onClick:()=>c&&g(u),"aria-expanded":c&&r===u,"aria-controls":`antardasha-${u}`,children:[e.jsxs("td",{className:"py-2 px-2 font-medium text-stone-800 dark:text-stone-100 flex items-center relative",children:[c&&e.jsxs("div",{className:"relative group",children:[e.jsx(J,{className:`w-4 h-4 mr-2 text-amber-700 dark:text-blue-400 transition-transform duration-300 ${r===u?"rotate-180":""}`}),e.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 mt-1 px-2 py-1 bg-zinc-800 text-white text-xs rounded shadow-md opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap z-[999] dark:bg-gray-800 dark:text-stone-200",children:a.antarDasha_clickToExpand})]}),e.jsx("span",{className:`z-0 ${c?"":"ml-6"}`,children:d?n.planet:z[n.planet]})]}),e.jsx("td",{className:"py-2 px-2 text-stone-700 dark:text-stone-200",children:O(n.start)}),e.jsx("td",{className:"py-2 px-2 text-stone-700 dark:text-stone-200",children:O(n.end)})]}),c&&e.jsx("tr",{className:"bg-slate-200 dark:bg-gray-800",children:e.jsx("td",{colSpan:3,className:"p-0 border-none",children:e.jsx("div",{id:`antardasha-${u}`,className:`overflow-hidden transition-all duration-500 ease-in-out ${r===u?"max-h-[1000px]":"max-h-0"}`,children:e.jsxs("div",{className:"p-4 bg-amber-50/50 dark:bg-amber-900/20",children:[e.jsx("h4",{className:"font-semibold text-blue-400 dark:text-blue-400 mb-2 pl-2",children:d?"अन्तरदशा राशि":a.antarDasha}),e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"text-stone-500 dark:text-stone-400",children:e.jsxs("tr",{children:[e.jsx("th",{className:"font-medium py-1 px-2 text-left",children:d?"राशि":a.planet}),e.jsx("th",{className:"font-medium py-1 px-2 text-left",children:a.startsOn}),e.jsx("th",{className:"font-medium py-1 px-2 text-left",children:a.endsOn})]})}),e.jsx("tbody",{children:n.subDashas.map(j=>e.jsxs("tr",{className:"border-b border-amber-100 dark:border-amber-800 last:border-b-0",children:[e.jsx("td",{className:"py-1.5 px-2 text-stone-800 dark:text-stone-100",children:d?j.planet:z[j.planet]}),e.jsx("td",{className:"py-1.5 px-2 text-stone-700 dark:text-stone-200",children:O(j.start)}),e.jsx("td",{className:"py-1.5 px-2 text-stone-700 dark:text-stone-200",children:O(j.end)})]},j.planet+j.start))})]})]})})})})]},u)})})]})}),e.jsxs("div",{className:"hidden print:block mt-6",children:[e.jsx("h4",{className:"text-lg font-semibold mb-2 text-stone-800",children:l}),d&&e.jsx("p",{className:"text-xs text-stone-500 -mt-2 mb-2 px-2 italic",children:a.jaiminiProportionalNote}),e.jsxs("table",{className:"w-full text-left text-sm border-collapse mb-4",children:[e.jsx("thead",{className:"border-b-2 border-stone-400 text-stone-600",children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-2 px-2",children:d?"दशा राशि":a.mahaDasha}),e.jsx("th",{className:"py-2 px-2",children:a.startsOn}),e.jsx("th",{className:"py-2 px-2",children:a.endsOn})]})}),e.jsx("tbody",{children:t.slice(0,12).map(n=>e.jsxs("tr",{className:"border-b border-stone-200",children:[e.jsx("td",{className:"py-2 px-2 font-medium text-stone-800",children:d?n.planet:z[n.planet]}),e.jsx("td",{className:"py-2 px-2 text-stone-700",children:O(n.start)}),e.jsx("td",{className:"py-2 px-2 text-stone-700",children:O(n.end)})]},`print-${n.planet}-${n.start}`))})]}),e.jsx("p",{className:"text-xs text-stone-600 px-2 italic",children:a.subDashaPrintNote})]})]})},xe=({chart:t})=>{if(!t.chartData)return null;const l="planets"in t.chartData?t.chartData.planets:[],r="ascendant"in t.chartData?t.chartData.ascendant.sign:1,o="ascendant"in t.chartData?t.chartData.ascendant.degreesInSign:void 0,d="ascendant"in t.chartData?t.chartData.ascendant.nakshatra:void 0,g="ascendant"in t.chartData?t.chartData.ascendant.nakshatraPada:void 0;return e.jsxs("div",{className:"chart-instance dark:bg-gray-800",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2 text-center dark:text-blue-400",children:t.title}),e.jsx("div",{className:"chart-card dark:bg-gray-800 rounded-lg p-2 transition-colors duration-300",children:e.jsx(xt,{planets:l.map(n=>({planet:n.planet,rashi:"rashi"in n?n.rashi:n.sign,degreesInSign:"degreesInSign"in n?n.degreesInSign:void 0,retrograde:n.retrograde,nakshatra:n.nakshatra,nakshatraPada:n.nakshatraPada})),ascendantSign:r,ascendantDegrees:o,ascendantNakshatra:d,ascendantNakshatraPada:g,chartType:t.type})})]},t.title)},yt=({data:t,onReturnToForm:l})=>{const[r,o]=x.useState(!1),d=t.divisionalCharts.find(h=>h.name.includes("D9")),g=t.divisionalCharts.find(h=>h.name.includes("D10")),n=t.divisionalCharts.find(h=>h.name.includes("D3")),u=t.divisionalCharts.find(h=>h.name.includes("D12")),c=t.divisionalCharts.find(h=>h.name.includes("D4")),j=t.divisionalCharts.find(h=>h.name.includes("D60")),v=[{type:"lagna",title:a.rashiChart,chartData:t},{type:"chandra",title:a.chandraChart,chartData:t},{type:"navamsha",title:a.navamsaChart,chartData:d},{type:"dashamsa",title:a.dashamsaChart,chartData:g}],i=[{type:"drekkana",title:a.drekkanaChart,chartData:n},{type:"dwadamsha",title:a.dwadamshaChart,chartData:u},{type:"chaturthamsha",title:a.chaturthamshaChart,chartData:c},{type:"shashtiamsha",title:a.shashtiamshaChart,chartData:j}].filter(h=>h.chartData),y=new Date,N=H(y),p=`${m(N.year)} ${q[N.monthIndex]} ${m(N.day)}`,k=y.toLocaleTimeString("ne-NP",{hour:"numeric",minute:"2-digit",hour12:!0});return e.jsxs("div",{className:"kundali-display-container flex flex-col bg-slate-200 rounded-xl shadow-lg w-full  lg:max-w-4xl xl:max-w-6xl lg:p-4 md:p-1 space-y-4 text-sm md:text-base dark:bg-gray-800 dark:text-gray-200 dark:border dark:border-gray-700 pb-40 print:pb-0",children:[e.jsxs("header",{className:"kundali-card rounded-lg text-center dark:bg-gray-800 dark:text-blue-400 transition-colors duration-300",children:[e.jsx("h2",{className:"text-3xl self-center font-bold text-blue-400 dark:text-blue-400",children:a.kundaliOf(t.birthDetails.name)}),e.jsxs("div",{className:"hidden text-xs self-center print:block font-bold text-gray-400 dark:text-gray-400(",children:[a.printedDate,": ",p," ",k]})]}),e.jsx("div",{className:"grid grid-cols-1 gap-6",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("div",{className:"lg:col-span-2 flex flex-col",children:e.jsx("div",{className:"flex-1 kundali-card p-4 rounded-lg bg-slate-200 dark:bg-gray-800 dark:text-stone-100 shadow transition-colors duration-300",children:e.jsx(me,{data:t})})}),e.jsx("div",{className:"flex-1 kundali-card lg:p-4 md:p-1 rounded-lg bg-slate-200 dark:bg-gray-800 dark:text-stone-100 shadow transition-colors duration-300",children:e.jsx(mt,{planets:t.planets})})]})}),e.jsxs("div",{className:"print:hidden",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-6 mt-6",children:v.map(h=>e.jsx(xe,{chart:h},h.type))}),i.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-6 mt-6 transition-all duration-500 ease-in-out overflow-hidden ${r?"max-h-[2000px] opacity-100":"max-h-0 opacity-0"}`,children:r&&i.map(h=>e.jsx(xe,{chart:h},h.type))}),e.jsx("div",{className:"text-center mt-4",children:e.jsxs("button",{onClick:()=>o(!r),className:"flex items-center justify-center gap-2 mx-auto px-4 py-2 text-sm font-medium text-blue-600 dark:text-blue-400 bg-blue-100/50 dark:bg-blue-900/20 rounded-lg hover:bg-blue-100 dark:hover:bg-blue-900/40 transition",children:[e.jsx("span",{children:r?a.showLessCharts:a.showMoreCharts}),e.jsx(J,{className:`w-4 h-4 transition-transform duration-300 ${r?"rotate-180":""}`})]})})]})]}),e.jsx("div",{className:"hidden print:block",children:e.jsx("div",{className:"flex flex-wrap -mx-3 mt-6 pt-6 border-t-2 border-dashed border-gray-300 dark:border-gray-700",children:[...v,...i].map(h=>e.jsx("div",{className:"w-1/2 px-3 mb-6 break-inside-avoid",children:e.jsx(xe,{chart:h})},`print-${h.type}`))})}),e.jsx(V,{dashaSequence:t.dashaSequence,title:a.dashaPeriods}),t.tribhagiDasha&&t.tribhagiDasha.length>0&&e.jsx(V,{dashaSequence:t.tribhagiDasha,title:a.tribhagiDasha}),t.yoginiDasha&&t.yoginiDasha.length>0&&e.jsx(V,{dashaSequence:t.yoginiDasha,title:a.yoginiDasha}),t.ashtottariDasha&&t.ashtottariDasha.length>0&&e.jsx(V,{dashaSequence:t.ashtottariDasha,title:a.ashtottariDasha}),t.jaiminiDasha&&t.jaiminiDasha.length>0&&e.jsx(V,{dashaSequence:t.jaiminiDasha,title:a.jaiminiDasha}),e.jsxs("div",{className:"hidden print:block text-center text-xs text-gray-500 pt-4 mt-4 border-t border-gray-300",children:[e.jsxs("p",{children:["© ",new Date().getFullYear()," ",a.project]}),e.jsxs("p",{className:"mt-1",children:[t.birthDetails.name," को कुण्डली"]})]}),e.jsxs("div",{className:"fixed bottom-12 left-1/2 transform -translate-x-1/2 z-[999] print:hidden w-full px-4 text-center",children:[e.jsxs("div",{className:"flex gap-4 justify-center",children:[e.jsxs("button",{className:"bg-blue-600 dark:bg-blue-600 text-white px-6 py-2 rounded shadow-md hover:bg-blue-700 dark:hover:bg-blue-800 transition flex items-center gap-2",onClick:l,children:["← ",a.returnToForm]}),e.jsxs("button",{className:"bg-gray-600 dark:bg-gray-500 text-white px-6 py-2 rounded shadow-md hover:bg-gray-700 dark:hover:bg-gray-600 transition flex items-center gap-2",onClick:()=>window.print(),children:[e.jsx(Se,{className:"w-4 h-4"})," ",a.print]})]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2 md:hidden",children:a.mobilePrintHint})]})]})},ht={name:"सुरज",dateSystem:"BS",bsYear:2050,bsMonth:2,bsDay:2,hour:10,minute:15,second:0,period:"AM"},gt={name:"अम्रिता",dateSystem:"BS",bsYear:2053,bsMonth:8,bsDay:9,hour:2,minute:30,second:0,period:"PM"},ft=({onCalculate:t,isLoading:l})=>{const[r,o]=x.useState(null),[d,g]=x.useState(null),n=()=>{r&&d?t(r,d):alert("कृपया वर र वधु दुबैको विवरण भर्नुहोस्।")};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-slate-50 rounded-xl shadow-lg p-4 dark:bg-gray-800/50",children:[e.jsx("h2",{className:"text-xl font-bold text-blue-700 dark:text-blue-300 mb-4 text-center",children:a.groomDetails}),e.jsx(Ne,{onCalculate:o,isLoading:!1,isEmbedded:!0,defaultValues:ht})]}),e.jsxs("div",{className:"bg-slate-50 rounded-xl shadow-lg p-4 dark:bg-gray-800/50",children:[e.jsx("h2",{className:"text-xl font-bold text-pink-700 dark:text-pink-400 mb-4 text-center",children:a.brideDetails}),e.jsx(Ne,{onCalculate:g,isLoading:!1,isEmbedded:!0,defaultValues:gt})]})]}),e.jsx("div",{className:"pt-4",children:e.jsx("button",{type:"button",onClick:n,disabled:l||!r||!d,className:"w-full flex justify-center items-center py-3 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-green-500 hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:bg-gray-400 disabled:cursor-not-allowed dark:bg-green-600 dark:hover:bg-green-700 dark:disabled:bg-gray-500",children:l?e.jsxs(e.Fragment,{children:[e.jsx(we,{className:"w-5 h-5 mr-3 animate-spin"}),a.calculating]}):a.calculateComparison})})]})},S=({label:t,groomValue:l,brideValue:r,maxPoints:o,obtainedPoints:d})=>e.jsxs("tr",{className:"border-b border-amber-100 dark:border-stone-700 last:border-b-0",children:[e.jsx("td",{className:"py-2 px-2 font-medium text-stone-800 dark:text-stone-100",children:t}),e.jsx("td",{className:"py-2 px-2 text-stone-700 dark:text-stone-200",children:l}),e.jsx("td",{className:"py-2 px-2 text-stone-700 dark:text-stone-200",children:r}),e.jsx("td",{className:"py-2 px-2 text-center text-stone-700 dark:text-stone-200",children:m(o)}),e.jsx("td",{className:"py-2 px-2 text-center font-semibold text-stone-800 dark:text-stone-100",children:m(d)})]}),Nt=({result:t,onReturnToForm:l})=>{const{groom:r,bride:o,score:d,conclusion:g}=t,n=new Date,u=H(n),c=`${m(u.year)} ${q[u.monthIndex]} ${m(u.day)}`,j=n.toLocaleTimeString("ne-NP",{hour:"numeric",minute:"2-digit",hour12:!0});return e.jsxs("div",{className:"kundali-display-container flex flex-col  bg-slate-200 rounded-xl shadow-lg w-full lg:max-w-4xl xl:max-w-6xl lg:p-4 md:p-1 space-y-4 text-sm md:text-base dark:bg-gray-800 dark:text-gray-200 dark:border dark:border-gray-700",children:[e.jsxs("header",{className:"kundali-card rounded-lg text-center p-4 dark:bg-gray-800",children:[e.jsxs("h2",{className:"text-2xl font-bold text-blue-400 dark:text-blue-400",children:[r.birthDetails.name," र ",o.birthDetails.name," को गुण मिलान"]}),e.jsxs("div",{className:"hidden text-xs self-center print:block font-bold text-gray-400 dark:text-gray-400(",children:[a.printedDate,": ",c," ",j]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx("div",{children:e.jsx(me,{data:r,title:a.groomDetails,titleClassName:"text-blue-700 dark:text-blue-300"})}),e.jsx("div",{children:e.jsx(me,{data:o,title:a.brideDetails,titleClassName:"text-pink-700 dark:text-pink-400"})})]}),e.jsxs("div",{className:"kundali-card p-4 sm:p-6 rounded-lg overflow-x-auto bg-slate-200 dark:bg-gray-800",children:[e.jsx("h3",{className:"text-xl font-bold text-blue-400 dark:text-blue-400 mb-4",children:a.gunaMilanTableTitle}),e.jsxs("table",{className:"w-full text-left text-sm sm:text-base",children:[e.jsx("thead",{className:"border-b-2 border-amber-200 dark:border-amber-700 text-stone-600 dark:text-stone-300",children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-2 px-2",children:a.koota}),e.jsx("th",{className:"py-2 px-2",children:a.groom}),e.jsx("th",{className:"py-2 px-2",children:a.bride}),e.jsx("th",{className:"py-2 px-2 text-center",children:a.maxPoints}),e.jsx("th",{className:"py-2 px-2 text-center",children:a.obtainedPoints})]})}),e.jsxs("tbody",{children:[e.jsx(S,{label:a.varna,groomValue:r.ashtaKoota.varna,brideValue:o.ashtaKoota.varna,maxPoints:1,obtainedPoints:d.varna}),e.jsx(S,{label:a.vasya,groomValue:r.ashtaKoota.vasya,brideValue:o.ashtaKoota.vasya,maxPoints:2,obtainedPoints:d.vasya}),e.jsx(S,{label:a.tara,groomValue:r.nakshatra.nameNepali,brideValue:o.nakshatra.nameNepali,maxPoints:3,obtainedPoints:d.tara}),e.jsx(S,{label:a.yoni,groomValue:r.ashtaKoota.yoni,brideValue:o.ashtaKoota.yoni,maxPoints:4,obtainedPoints:d.yoni}),e.jsx(S,{label:a.grahaMaitri,groomValue:r.ashtaKoota.rashiLord,brideValue:o.ashtaKoota.rashiLord,maxPoints:5,obtainedPoints:d.grahaMaitri}),e.jsx(S,{label:a.gana,groomValue:r.ashtaKoota.gana,brideValue:o.ashtaKoota.gana,maxPoints:6,obtainedPoints:d.gana}),e.jsx(S,{label:a.bhakoot,groomValue:M[r.planets.find(v=>v.planet==="MOON").rashi-1],brideValue:M[o.planets.find(v=>v.planet==="MOON").rashi-1],maxPoints:7,obtainedPoints:d.bhakoot}),e.jsx(S,{label:a.nadi,groomValue:r.ashtaKoota.nadi,brideValue:o.ashtaKoota.nadi,maxPoints:8,obtainedPoints:d.nadi})]}),e.jsx("tfoot",{className:"border-t-2 border-amber-300 dark:border-amber-600 font-bold",children:e.jsxs("tr",{children:[e.jsx("td",{colSpan:3,className:"py-2 px-2 text-right text-stone-800 dark:text-stone-100",children:a.totalPoints}),e.jsx("td",{className:"py-2 px-2 text-center text-stone-800 dark:text-stone-100",children:m(36)}),e.jsx("td",{className:"py-2 px-2 text-center text-lg text-blue-600 dark:text-blue-400",children:m(d.total)})]})})]})]}),e.jsxs("div",{className:"kundali-card rounded-lg bg-slate-200 dark:bg-gray-800",children:[e.jsx("h3",{className:"text-xl font-bold text-blue-400 dark:text-blue-400",children:a.conclusion}),e.jsx("p",{className:"text-stone-800 dark:text-stone-100",children:g})]}),e.jsx("div",{className:"hidden print:block text-center text-xs text-gray-500 mt-4 border-t border-gray-300",children:e.jsxs("p",{children:["© ",new Date().getFullYear()," ",a.project]})}),typeof window<"u"&&e.jsxs("div",{className:"print:hidden",children:[e.jsx("div",{className:"h-32 print:h-0 print:overflow-hidden","aria-hidden":"true"}),e.jsxs("div",{className:"fixed bottom-12 left-1/2 transform -translate-x-1/2 z-[999] w-full px-4 text-center print:hidden",children:[e.jsxs("div",{className:"flex gap-4 justify-center",children:[e.jsxs("button",{className:"bg-blue-600 dark:bg-blue-600 text-white px-6 py-2 rounded shadow-md hover:bg-blue-700 dark:hover:bg-blue-800 transition flex items-center gap-2",onClick:l,children:["← ",a.returnToForm]}),e.jsxs("button",{className:"bg-gray-600 dark:bg-gray-500 text-white px-6 py-2 rounded shadow-md hover:bg-gray-700 dark:hover:bg-gray-600 transition flex items-center gap-2",onClick:()=>window.print(),children:[e.jsx(Se,{className:"w-4 h-4"})," ",a.print]})]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2 md:hidden",children:a.mobilePrintHint})]})]})]})};export{Nt as C,yt as K,ft as a,Ne as b};
