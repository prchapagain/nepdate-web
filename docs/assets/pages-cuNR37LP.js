import{j as t,r as w,b as nt,M as st,P as je,p as rt,q as ot,s as it,t as lt,v as ct,w as dt,x as ut,y as ht,V as gt,z as mt,Z as ft,B as pt}from"./vendor-react-DzvE8wYF.js";import{X as xt,G as bt,U as yt,b as Nt,n as St,r as te}from"./data-DzfqXYxE.js";import{t as Se,o as vt,p as kt,d as wt,q as Ye,C as Mt,T as jt,s as At,u as Pt,M as It,v as Tt,V as ve,w as le,Y as Dt,i as re,x as Ae,y as Pe,b as Ct,z as Et,R as ke,h as ge,A as ce,B as Ot,D as Lt,E as _t,F as Rt,H as Ut,I as Yt,J as Kt,K as Bt,L as $t,O as Vt,P as Ft,Q as Ie,S as zt,U as Ht,W as ae,X as Te,m as be,Z as Q,_ as oe,$ as Gt,a0 as De,a1 as Jt,a2 as Wt,N as K}from"./bikram-DMmazJtx.js";import{t as me,K as Xt,C as Qt,a as Zt,b as qt,S as ea}from"./kundali-BrUbnJL_.js";const ta="2.3.0",aa=({setIsAboutOpen:a})=>t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:t.jsxs("div",{className:"bg-slate-200 dark:bg-gray-800 rounded-2xl shadow-xl p-6 max-w-sm w-full text-center relative border border-gray-200 dark:border-gray-700",children:[t.jsx("button",{onClick:()=>a(!1),className:"absolute top-3 right-3 p-1.5 rounded-full text-gray-500 hover:text-gray-800 dark:hover:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors","aria-label":"Close",children:t.jsx(xt,{className:"w-5 h-5"})}),t.jsx("h2",{className:"text-xl font-bold mb-2 text-gray-900 dark:text-gray-100",children:"About Bikram Calendar"}),t.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-4",children:"A modern Nepali Bikram Sambat and Gregorian calendar app built using React and PWA technology."}),t.jsx("span",{children:"App Version: "}),t.jsx("span",{className:"font-mono",children:ta}),t.jsxs("div",{className:"space-y-3 my-6",children:[t.jsxs("a",{href:"https://github.com/khumnath/nepdate/tree/page",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-3 w-full bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 font-semibold py-2.5 px-4 rounded-lg transition-colors",children:[t.jsx(bt,{className:"w-5 h-5"}),t.jsx("span",{children:"Source Code"})]}),t.jsxs("a",{href:"https://github.com/khumnath/nepdate/graphs/contributors",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-3 w-full bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 font-semibold py-2.5 px-4 rounded-lg transition-colors",children:[t.jsx(yt,{className:"w-5 h-5"}),t.jsx("span",{children:"Contributors"})]}),t.jsxs("a",{href:"https://github.com/khumnath/nepdate/issues/new",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-3 w-full bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 font-semibold py-2.5 px-4 rounded-lg transition-colors",children:[t.jsx(Nt,{className:"w-5 h-5"}),t.jsx("span",{children:"Suggestions and issues"})]})]}),t.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[t.jsxs("p",{className:"mt-1",children:["© 2024–",new Date().getFullYear()," khumnath cg"]}),t.jsx("p",{className:"mt-1",children:"All rights reserved."})]})]})}),La=Object.freeze(Object.defineProperty({__proto__:null,default:aa},Symbol.toStringTag,{value:"Module"})),na=()=>{const[a]=w.useState(new Date),[n]=w.useState(()=>Se(a)),[e,s]=w.useState(null);w.useEffect(()=>{try{const C=vt(a,27.7172,85.324,5.75);"error"in C?me(`Error from calculate:'${C.error}`,"error",2e3):s(C)}catch(C){me(`Error calculating today details:${C}`,"error",2e3)}},[]);const[o,d]=w.useState("bs"),[i,l]=w.useState(n.year),[m,f]=w.useState(n.monthIndex),[c,u]=w.useState(a.getFullYear()),[p,h]=w.useState(a.getMonth()),x=w.useMemo(()=>o==="bs"?i:c,[o,i,c]),b=w.useMemo(()=>o==="bs"?m:p,[o,m,p]),g=w.useCallback(()=>{l(n.year),f(n.monthIndex),u(a.getFullYear()),h(a.getMonth())},[a,n]),N=w.useCallback(P=>{if(P===o)return;const S=c===a.getFullYear()&&p===a.getMonth(),M=i===n.year&&m===n.monthIndex;if(P==="bs"&&S||P==="ad"&&M)g();else if(P==="bs"){const C=c??a.getFullYear(),j=Ye(C,p,12),_=kt(j),I=Se(_);I.year===0||!I.year?g():(l(I.year),f(I.monthIndex))}else if(i===null)g();else{const C=wt(i,m,18);u(C.getUTCFullYear()),h(C.getUTCMonth())}d(P)},[o,c,p,i,m,a,n,g]),y=w.useCallback(P=>{if(o==="bs"){const S=P==="prev"?m-1:m+1;S<0?(f(11),l(M=>(M??n.year)-1)):S>11?(f(0),l(M=>(M??n.year)+1)):f(S)}else{const S=P==="prev"?p-1:p+1;S<0?(h(11),u(M=>(M??a.getFullYear())-1)):S>11?(h(0),u(M=>(M??a.getFullYear())+1)):h(S)}},[o,m,p,a,n]),T=w.useCallback(P=>{o==="bs"?l(S=>(S??n.year)+(P==="next"?1:-1)):u(S=>(S??a.getFullYear())+(P==="next"?1:-1))},[o,a,n]);return{activeSystem:o,currentBsYear:i,currentBsMonth:m,currentAdYear:c,currentAdMonth:p,currentYear:x,currentMonth:b,switchSystem:N,goToToday:g,changeMonth:y,changeYear:T,setCurrentBsYear:l,setCurrentBsMonth:f,setCurrentAdYear:u,setCurrentAdMonth:h,initialToday:a,initialTodayBs:n,todayDetails:e}},sa={en:{title:"Privacy Policy for Nepdate",intro:"This Privacy Policy explains what Nepdate (the “app”) does with information you provide or that is created while using the app, where that information lives, and the choices you have. Nepdate is free and open source: https://github.com/khumnath/nepdate-web and https://nepdate.khumnath.com.np.",summaryTitle:"Core commitments",summaryBullets:["No remote collection: Nepdate does not collect analytics, telemetry, crash reports, or any personal or usage data to our servers.","Local-first: All user data created or entered in Nepdate is stored on your device only unless you explicitly export or share it.","Optional web interactions: When you open external web content (for example a streaming radio or map tile), your browser or that third-party service may exchange data directly with that service. Nepdate does not control those exchanges.","Local cache: Nepdate uses a local cache for convenience and faster loading; cached items remain on your device until you clear them or uninstall the app."],detailsTitle:"Details",sections:[{heading:"What data exists and where it lives",paragraphs:["User-created data: Calendar events, reminders, notes, preferences, and any profile-like values you enter are stored on your device only.","Temporary/cache data: Images, downloaded calendar files, and transient data used for quick loading are cached locally for convenience and may persist until you clear the cache or uninstall the app.","Network interactions: If you choose to open or play online content (for example, streaming radio), your device or browser will contact the external service and may send standard request information such as IP address and user-agent. Nepdate does not forward, log, or retain that information."]}],kundaliTitle:"Kundali page — what we use and why",kundaliBullets:["Fields used: If you provide a name, birth date, birth time, and location on the Kundali page, Nepdate uses those inputs only to generate the Kundali display for your device.","Location sources: You may enter location manually or pick it via the app’s map service. The app’s MAO does not have location permission.","Storage: Kundali inputs are saved on your device for convenience so you do not need to re-enter them each time.","Algorithms: Kundali calculations use standard astronomical algorithms to compute planetary positions and produce charts. These algorithms are implemented in the app and run locally on your device."],networkTitle:"Network and third‑party content",networkParagraphs:["Browser and third‑party services: Opening external content (radio streams, embedded pages, map tiles) causes your device or browser to contact those services directly. Those services may receive standard network request information such as IP address and user-agent. Nepdate does not forward or retain that information.","Third‑party policies: Review the privacy policies of any third-party service you access from the app before using it."],accuracyTitle:"Data accuracy and liability disclaimer",accuracyParagraphs:["Displayed content: Nepdate displays Bikram Sambat dates, Panchanga, and Kundali charts computed from standard astronomical algorithms.","No guarantee of correctness: While we follow established algorithms, Nepdate cannot guarantee 100 percent accuracy. Errors in input data, algorithmic limitations, or external data sources may produce incorrect results.","No responsibility: Nepdate and its developers are not responsible for decisions you make or actions you take based on information displayed by the app. Use the app for informational purposes only and verify important details with qualified experts when appropriate."],securityTitle:"Security and limitations",securityParagraphs:["Device security: Your data’s security depends largely on your device protections such as screen lock, OS updates, and device encryption.","No absolute guarantee: We adopt reasonable local storage practices, but no software or device can be guaranteed fully secure."],choicesTitle:"Your choices and controls",choicesBullets:["Edit and delete: You can edit or delete Kundali inputs, calendar entries, and cached data inside the app. Uninstalling the app removes its local storage unless your device or backup service preserves it.","Exporting: Any export or share action sends the exported data to the destination you choose; Nepdate does not retain exported copies on our servers.","Notifications: Control reminders and alerts through the app settings and your device settings.","Third‑party content: When you use map or web features, you control whether to proceed and which services to engage."],childrenTitle:"Children",openSourceTitle:"Open source and transparency",openSourceParagraph:"Nepdate is open source and available at https://github.com/khumnath/nepdate-web. You can review the source code to confirm how input, storage, caching, and Kundali calculations are implemented.",changesTitle:"Changes to this policy",changesParagraph:"We may update this policy to reflect technical, legal, or product changes. If changes materially affect how user data is handled we will notify users within the app.",contactTitle:"Contact",contactParagraph:"For questions about this policy, how to clear local data, or to report issues, contact the support address shown in Nepdate’s About screen, use the project page at https://github.com/khumnath/nepdate-web, or email us at mail@khumnath.com.np. Include app version and device model to help us respond.",githubLabel:"GitHub",siteLabel:"Website"},ne:{title:"Nepdate गोपनीयता नीति",intro:'यो गोपनीयता नीतिले Nepdate ("एप") ले तपाईँले दिएका वा एप प्रयोग गर्दा सिर्जना भएका जानकारीहरू कसरी प्रयोग गर्छ, ती जानकारीहरू कहाँ राखिन्छन्, र तपाईँसँग रहेका विकल्पहरूलाई व्याख्या गर्छ। Nepdate निशुल्क र खुल्ला स्रोत अप्लिकेशन हो: https://github.com/khumnath/nepdate-web र https://nepdate.khumnath.com.np।',summaryTitle:"मुख्य प्रतिबद्धताहरु",summaryBullets:["रिमोट सङ्कलन नगर्ने: Nepdate ले एनालिटिक्स, टेलिमेट्री, क्र्यास रिपोर्ट, वा कुनै पनि व्यक्तिगत वा प्रयोग डेटा हाम्रो सर्भरहरूमा सङ्कलन गर्दैन।","लोकल–प्रथम: Nepdate मा सिर्जना वा प्रविष्ट गरिएका सबै प्रयोगकर्ता डेटा केवल तपाईँको उपकरणमा मात्र सञ्चालित हुन्छ जबसम्म तपाईँले स्पष्ट रूपमा निर्यात वा साझेदारी गर्नुहुन्न।","वैकल्पिक वेब अन्तरक्रियाहरू: जब तपाईँ बाह्य वेब सामग्री (उदाहरण: स्ट्रिमिङ रेडियो वा नक्सा टाइल) खोल्नुहुन्छ, तपाईँको ब्राउजर वा तेस्रो–पार्टी सेवा सो सेवा सँग प्रत्यक्ष रूपमा डाटा साटासाट गर्न सक्छ। Nepdate यी आदानप्रदानहरू नियन्त्रण गर्दैन।","लोकल क्याश: Nepdate ले छिटो लोड र सुविधाका लागि स्थानीय क्याश प्रयोग गर्छ; क्याश गरिएका वस्तुहरू तपाईँले क्याश मेटाउने वा एप अनइन्स्टल नगरेसम्म तपाईँको उपकरणमै रहन्छ।"],detailsTitle:"विवरणहरू",sections:[{heading:"कुन डाटा हुन्छ र कहाँ रहन्छ",paragraphs:["प्रयोगकर्ताले बनाएको डाटा: क्यालेन्डर घटनाहरू, रिमाइन्डरहरू, नोटहरू, प्राथमिकताहरू, र तपाईँले प्रविष्ट गर्ने प्रोफाइल–जस्तै मानहरू केवल तपाईँको उपकरणमा मात्र सञ्चित गरिन्छ।","अस्थायी/क्याश डाटा: छविहरू, डाउनलोड गरिएका क्यालेन्डर फाइलहरू, र द्रुत लोडका लागि प्रयोग गरिने अस्थायी डाटाहरू स्थानीय रूपमा क्याश गरिन्छन् र तपाईँले क्याश मेटाउनुहुँदासम्म वा एप अनइन्स्टल नगरेसम्म रहन सक्छन्।","नेटवर्क अन्तरक्रियाहरू: यदि तपाईँ अनलाइन सामग्री (उदाहरण: स्ट्रिमिङ रेडियो) खोल्ने वा प्ले गर्ने छनौट गर्नुहुन्छ भने तपाईँको उपकरण वा ब्राउजरले बाह्य सेवालाई सम्पर्क गर्दा आईपी ठेगाना र युजर–एजेण्ट जस्ता सामान्य अनुरोध जानकारी पठाउन सक्छ। Nepdate त्यो जानकारी अग्रेषित, लग, वा सञ्चित गर्दैन।"]}],kundaliTitle:"कुण्डली पृष्ठ — हामी के प्रयोग गर्छौ र किन",kundaliBullets:["प्रयोग गरिएका फिल्डहरू: यदि तपाईँले नाम, जन्म मिति, जन्म समय, र स्थान कुण्डली पृष्ठमा दिनुहुन्छ भने Nepdate ті इनपुटहरू मात्र तपाईँको उपकरणमा कुण्डली देखाउन प्रयोग गर्छ।","स्थान स्रोतहरू: स्थान तपाईँले म्यानुअल रूपमा प्रविष्ट गर्न सक्नुहुन्छ वा एपको नक्सा सेवाबाट छान्न सक्नुहुन्छ। एपको MAO लाई स्थान अनुमति छैन।","सञ्चयन: सुविधा का लागि कुण्डली इनपुटहरू तपाईँको उपकरणमा सुरक्षित गरिन्छ जसले बारम्बार प्रविष्टि आवश्यक नपरोस्।","एल्गोरिद्महरू: कुण्डली गणनाहरू ग्रहहरूको स्थितिहरू गणना गर्न मानक खगोलीय एल्गोरिद्महरू प्रयोग गर्छन् र ती एल्गोरिद्महरू एपमा कार्यान्वयन गरिएका छन् र स्थानीय रूपमा तपाईँको उपकरणमा चल्छन्।"],networkTitle:"नेटवर्क र तेस्रो–पक्ष सामग्री",networkParagraphs:["ब्राउजर र तेस्रो–पक्ष सेवाहरू: बाह्य सामग्री (रेडियो स्ट्रिम, एम्बेड गरिएको पेज, नक्सा टाइल) खोल्दा तपाईँको उपकरण वा ब्राउजरले ती सेवाहरूलाई प्रत्यक्ष रूपमा सम्पर्क गर्छ। ती सेवाहरूले आईपी ठेगाना र युजर–एजेण्ट जस्ता सामान्य अनुरोध जानकारी प्राप्त गर्न सक्छन्। Nepdate त्यो जानकारी अग्रेषित वा सञ्चित गर्दैन।","तेस्रो–पक्ष नीतिहरू: एपबाट पहुँच गरिने कुनै पनि तेस्रो–पक्ष सेवाको गोपनीयता नीतिलाई प्रयोग गर्नु अघि समीक्षा गर्नुहोस्।"],accuracyTitle:"डाटा सठिकता र दायित्व अस्वीकरण",accuracyParagraphs:["प्रदर्शित सामग्री: Nepdate ले बिक्रम संवत मिति, पन्चाङ्ग, र कुण्डली चार्टहरू मानक खगोलीय एल्गोरिद्मबाट गणना गरेर देखाउँछ।","पूर्ण शुद्धताको ग्यारेन्टी छैन: हामी स्थापित एल्गोरिद्महरू अनुसरण गर्छौं भने पनि Nepdate ले १००% शुद्धता ग्यारेन्टी गर्दैन। इनपुट त्रुटि, एल्गोरिद्मिक सीमाहरू, वा बाह्य डाटा स्रोतहरूले गलत परिणाम दिन सक्दछन्।","दायित्व छैन: Nepdate र यसको विकासकर्ताहरू एपले देखाएको जानकारीमा आधारित निर्णयहरू वा कार्यहरूको लागि जिम्मेवार छैनन्। महत्त्वपूर्ण तथ्यहरू योग्य विशेषज्ञसँग जाँच गर्नुहोस्।"],securityTitle:"सुरक्षा र सीमाहरू",securityParagraphs:["उपकरण सुरक्षा: तपाईँको डाटाको सुरक्षा प्रायः तपाईँको उपकरण सुरक्षाहरू जस्तै स्क्रिन लक, OS अपडेटहरू, र उपकरण इन्क्रिप्शनमा निर्भर गर्दछ।","पूर्ण ग्यारेन्टी छैन: हामीले स्थानीय भण्डारणका लागि समुचित अभ्यास अपनाउँछौं, तर कुनै पनि सफ्टवेयर वा उपकरण पूर्ण रूपमा सुरक्षित हुने ग्यारेन्टी दिइँदैन।"],choicesTitle:"तपाईँका विकल्पहरू र नियन्त्रणहरू",choicesBullets:["सम्पादन र मेटाउने: तपाईँ एप भित्र कुण्डली इनपुट, क्यालेन्डर प्रविष्टिहरू, र क्याश डाटा सम्पादन वा मेटाउन सक्नुहुन्छ। एप अनइन्स्टल गर्दा यसको स्थानीय भण्डारण हट्छ जबसम्म तपाईँको उपकरण वा ब्याकअप सेवा यसलाई राख्दैन।","निर्यात: कुनै पनि निर्यात वा साझेदारी क्रिया तपाईँले चयन गरेको लक्ष्यतिर पठाइन्छ; Nepdate ले निर्यात गरिएका प्रतिहरू हाम्रो सर्भरमा राख्दैन।","सूचना: रिमाइन्डर र अलर्टहरू एप सेटिङ र तपाईँको उपकरण सेटिङबाट नियन्त्रण गर्नुहोस्।","तेस्रो–पक्ष सामग्री: नक्सा वा वेब सुविधाहरू प्रयोग गर्दा अगाडि बढ्न र कुन सेवाहरूलाई संलग्न गर्ने तपाईँले नियन्त्रण गर्नुहुन्छ।"],childrenTitle:"बालबच्चाहरू",openSourceTitle:"खुला स्रोत र पारदर्शिता",openSourceParagraph:"Nepdate खुला स्रोत हो र https://github.com/khumnath/nepdate-web मा उपलब्ध छ। इनपुट, सञ्चयन, क्याशिंग र कुण्डली गणनाहरू कसरी कार्यान्वयन गरिएको छ भनेर स्रोत कोडमा समीक्षा गर्न सक्नुहुन्छ।",changesTitle:"नीतिमा हुने परिवर्तनहरू",changesParagraph:"हामी प्राविधिक, कानूनी, वा उत्पादन परिवर्तनहरू परावर्तित गर्न यो नीति अद्यावधिक गर्न सक्छौँ। यदि परिवर्तनहरूले प्रयोगकर्ता डाटाको ह्यान्डलिङमा महत्वपूर्ण प्रभाव पार्छ भने हामीले प्रयोगकर्ताहरूलाई एप भित्र सूचित गर्नेछौँ।",contactTitle:"सम्पर्क",contactParagraph:"यस नीतिसँग सम्बन्धित प्रश्नहरू, स्थानीय डाटा कसरी मेट्ने, वा समस्याहरू रिपोर्ट गर्न, Nepdate को About स्क्रीनमा देखिने समर्थन ठेगाना प्रयोग गर्नुहोस्, प्रोजेक्ट पृष्ठ https://github.com/khumnath/nepdate-web मा सन्देश पठाउनुहोस्, वा हामीलाई mail@khumnath.com.np मा इमेल गर्नुहोस्। जवाफमा मद्दतका लागि एप भर्सन र डिभाइस मोडेल समावेश गर्नुहोस्।",githubLabel:"GitHub",siteLabel:"वेबसाइट"}};function ra(){const[a,n]=w.useState("en"),e=a==="ne",s=sa[a];return t.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 py-8 px-4",children:t.jsxs("div",{className:"mx-auto max-w-4xl",children:[t.jsxs("div",{className:"flex items-start gap-4 sm:items-center sm:justify-between mb-6 flex-col sm:flex-row",children:[t.jsxs("div",{className:"w-full sm:w-auto",children:[t.jsx("h1",{className:"text-slate-900 dark:text-slate-100 text-2xl font-semibold",children:s.title}),t.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-400",children:s.intro})]}),t.jsx("div",{className:"mt-4 sm:mt-0 flex gap-3",children:t.jsx("button",{onClick:()=>n(o=>o==="en"?"ne":"en"),className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-sm text-slate-700 dark:text-slate-200 hover:shadow-sm transition","aria-pressed":e,children:e?"English":"नेपाली"})})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.jsx("article",{className:"lg:col-span-2 space-y-6",children:t.jsxs("section",{className:"bg-white dark:bg-slate-800 rounded-2xl border border-slate-100 dark:border-slate-700 p-6",children:[t.jsx("h2",{className:"text-lg font-medium text-slate-900 dark:text-slate-100",children:s.summaryTitle}),t.jsx("ul",{className:"mt-3 space-y-2 list-disc list-inside text-sm text-slate-700 dark:text-slate-300",children:s.summaryBullets.map((o,d)=>t.jsx("li",{children:o},d))})]})}),t.jsxs("aside",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl border border-slate-100 dark:border-slate-700 p-6",children:[t.jsx("h4",{className:"text-base font-semibold text-slate-900 dark:text-slate-100",children:s.contactTitle}),t.jsx("p",{className:"mt-3 text-sm text-slate-700 dark:text-slate-300",children:s.contactParagraph})]}),t.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl border border-slate-100 dark:border-slate-700 p-6 text-sm text-slate-600 dark:text-slate-400",children:t.jsx("p",{children:e?"नीति अन्तर्गत कुनै पनि शंका वा सुझावको लागि माथिको सम्पर्क प्रयोग गर्नुहोस्।":"For any questions or suggestions about this policy, use the contact methods above."})})]})]})]})})}const _a=Object.freeze(Object.defineProperty({__proto__:null,default:ra},Symbol.toStringTag,{value:"Module"})),oa=({onDayClick:a})=>{const{activeSystem:n,currentYear:e,currentMonth:s,currentBsYear:o,currentBsMonth:d,currentAdYear:i,currentAdMonth:l,switchSystem:m,goToToday:f,changeMonth:c,changeYear:u,setCurrentBsYear:p,setCurrentAdYear:h,setCurrentBsMonth:x,setCurrentAdMonth:b,initialToday:g,initialTodayBs:N,todayDetails:y}=na(),[T,P]=w.useState("light"),S=()=>P(E=>E==="light"?"dark":"light"),M=a??(()=>{}),C=()=>{M(g)};return t.jsxs("div",{className:"min-h-[60vh]",children:[t.jsx("div",{className:"flex justify-center sm:justify-end mb-2",children:t.jsx(Mt,{activeSystem:n,bsYear:o,bsMonth:d,adYear:i,adMonth:l,onSystemChange:m,onTodayClick:f,theme:T,onThemeToggle:S})}),t.jsxs("main",{className:"md:grid md:grid-cols-12 md:gap-x-6",children:[t.jsx("aside",{className:"hidden md:block md:col-span-4",children:t.jsx(jt,{todayAd:g,todayBs:N,todayDetails:y,onShowDetailsClick:C})}),t.jsxs("div",{className:"md:col-span-8 flex flex-col",children:[t.jsx("section",{className:"py-2 sm:py-3",children:t.jsx(At,{activeSystem:n,currentYear:e,currentMonth:s,onYearChange:E=>n==="bs"?p(E):h(E),onMonthChange:E=>n==="bs"?x(E):b(E),onPrevMonth:()=>c("prev"),onNextMonth:()=>c("next"),onPrevYear:()=>u("prev"),onNextYear:()=>u("next")})}),t.jsxs("section",{className:"flex flex-col flex-1 p-2 sm:p-3 md:p-4",children:[t.jsx(Pt,{activeSystem:n,currentYear:e,currentMonth:s,onDayClick:M}),t.jsx("section",{className:"events mt-3 sm:mt-4",children:t.jsx(It,{activeSystem:n,currentYear:e,currentMonth:s})})]})]})]})]})},Ra=Object.freeze(Object.defineProperty({__proto__:null,default:oa},Symbol.toStringTag,{value:"Module"})),ia=({onBack:a})=>t.jsx("main",{className:"flex-1 flex flex-col overflow-hidden px-2 sm:px-4 md:px-6 lg:px-40 max-w-7xl mx-auto w-full",children:t.jsx("div",{className:"min-h-screen p-4 sm:p-6 md:p-8",children:t.jsx(Tt,{onBack:a})})}),Ua=Object.freeze(Object.defineProperty({__proto__:null,default:ia},Symbol.toStringTag,{value:"Module"})),k=Math.PI/180,fe=180/Math.PI;function r(a,n,e,s,o){return{mlcor:a,mscor:n,fcor:e,dcor:s,lcor:o}}function O(a,n,e,s,o){return{l:a,ml:n,ms:e,f:s,d:o}}const Z=[r(0,0,0,4,13.902),r(0,0,0,2,2369.912),r(1,0,0,4,1.979),r(1,0,0,2,191.953),r(1,0,0,0,22639.5),r(1,0,0,-2,-4586.465),r(1,0,0,-4,-38.428),r(1,0,0,-6,-.393),r(0,1,0,4,-.289),r(0,1,0,2,-24.42),r(0,1,0,0,-668.146),r(0,1,0,-2,-165.145),r(0,1,0,-4,-1.877),r(0,0,0,3,.403),r(0,0,0,1,-125.154),r(2,0,0,4,.213),r(2,0,0,2,14.387),r(2,0,0,0,769.016),r(2,0,0,-2,-211.656),r(2,0,0,-4,-30.773),r(2,0,0,-6,-.57),r(1,1,0,2,-2.921),r(1,1,0,0,-109.673),r(1,1,0,-2,-205.962),r(1,1,0,-4,-4.391),r(1,-1,0,4,.283),r(1,-1,0,2,14.577),r(1,-1,0,0,147.687),r(1,-1,0,-2,28.475),r(1,-1,0,-4,.636),r(0,2,0,2,-.189),r(0,2,0,0,-7.486),r(0,2,0,-2,-8.096),r(0,0,2,2,-5.741),r(0,0,2,0,-411.608),r(0,0,2,-2,-55.173),r(0,0,2,-4,.025),r(1,0,0,1,-8.466),r(1,0,0,-1,18.609),r(1,0,0,-3,3.215),r(0,1,0,1,18.023),r(0,1,0,-1,.56),r(3,0,0,2,1.06),r(3,0,0,0,36.124),r(3,0,0,-2,-13.193),r(3,0,0,-4,-1.187),r(3,0,0,-6,-.293),r(2,1,0,2,-.29),r(2,1,0,0,-7.649),r(2,1,0,-2,-8.627),r(2,1,0,-4,-2.74),r(2,-1,0,2,1.181),r(2,-1,0,0,9.703),r(2,-1,0,-2,-2.494),r(2,-1,0,-4,.36),r(1,2,0,0,-1.167),r(1,2,0,-2,-7.412),r(1,2,0,-4,-.311),r(1,-2,0,2,.757),r(1,-2,0,0,2.58),r(1,-2,0,-2,2.533),r(0,3,0,-2,-.344),r(1,0,2,2,-.992),r(1,0,2,0,-45.099),r(1,0,2,-2,-.179),r(1,0,-2,2,-6.382),r(1,0,-2,0,39.528),r(1,0,-2,-2,9.366),r(0,1,2,0,.415),r(0,1,2,-2,-2.152),r(0,1,-2,2,-1.44),r(0,1,-2,-2,.384),r(2,0,0,1,-.586),r(2,0,0,-1,1.75),r(2,0,0,-3,1.225),r(1,1,0,1,1.267),r(1,-1,0,-1,-1.089),r(0,0,2,-1,.584),r(4,0,0,0,1.938),r(4,0,0,-2,-.952),r(3,1,0,0,-.551),r(3,1,0,-2,-.482),r(3,-1,0,0,.681),r(2,0,2,0,-3.996),r(2,0,2,-2,.557),r(2,0,-2,2,-.459),r(2,0,-2,0,-1.298),r(2,0,-2,-2,.538),r(1,1,-2,-2,.426),r(1,-1,2,0,-.304),r(1,-1,-2,2,-.372),r(0,0,4,0,.418),r(2,-1,0,-1,-.352)],ne=[O(.127,0,0,0,6),O(-.151,0,2,0,-4),O(-.085,0,0,2,4),O(.15,0,1,0,3),O(-.091,2,1,0,-6),O(-.103,0,3,0,0),O(-.301,1,0,2,-4),O(.202,1,0,-2,-4),O(.137,1,1,0,-1),O(.233,1,1,0,-3),O(-.122,1,-1,0,1),O(-.276,1,-1,0,-3),O(.255,0,0,2,1),O(.254,0,0,2,-3),O(-.1,3,1,0,-4),O(-.183,3,-1,0,-2),O(-.297,2,2,0,-2),O(-.161,2,2,0,-4),O(.197,2,-2,0,0),O(.254,2,-2,0,-2),O(-.25,1,3,0,-2),O(-.123,2,0,2,2),O(.173,2,0,-2,-4),O(.263,1,1,2,0),O(.13,3,0,0,-1),O(.113,5,0,0,0),O(.092,3,0,2,-2)];function L(a){return a=a-Math.floor(a/360)*360,a<0?a+360:a}function Ke(a,n){let e=a;for(let s=0;s<7;s++)e=a+n*Math.sin(e);return e}function Be(a){const n=(a-2415020)/36525,e=n*n,s=(279.6967+36000.7689*n+303e-6*e)*k,o=(270.4341639+481267.8831417*n-.0011333333*e)*k,d=(358.4758333+35999.04975*n-15e-5*e)*k,i=(296.1046083+477198.8491083*n+.0091916667*e)*k,l=(259.183275-1934.1420083*n+.0020777778*e)*k;return((-17.2327-.01737*n)*Math.sin(l)+.2088*Math.sin(2*l)-1.2729*Math.sin(2*s)+.1261*Math.sin(d)-.2037*Math.sin(2*o)+.0675*Math.sin(i)-.0497*Math.sin(2*s+d)+.0214*Math.sin(2*s-d)+.0261*Math.sin(2*o+i))/3600}function Ce(a){const n=(a-2451545)/36525;return(85885.53192+5029.0966*n+1.11161*n*n)/3600}function Ee(a){const n=a-2415020,e=n/36525;let s=270.4337361+13.1763965445281*n-5.86*e*e/3600+.0068*e*e*e/3600,o=350.7374861110581+445267.1142166667*e-e*e*.001436111132303874+18888889e-13*e*e*e;const d=334.329556+1464852252e-2*e/3600-37.17*e*e/3600-.045*e*e*e/3600;let i=358.4758333333334+35999.04974999958*e-e*e*.0001500000059604645-e*e*e*33333333623078e-19,l=L(s-d);const m=259.183275-696291123e-2*e/3600+7.48*e*e/3600+.008*e*e*e/3600;let f=L(s-m),c=k*l,u=k*i,p=k*f,h=k*o,x=0,b=0;const g=1-6832e-11*n,N=1,y=N*N;for(let S=0;S<Z.length;S++){const M=Z[S].mlcor*c+Z[S].mscor*u+Z[S].fcor*p+Z[S].dcor*h;let C=Math.sin(M);Z[S].mscor!=0&&(C*=g,(Z[S].mscor==2||Z[S].mscor==-2)&&(C*=g)),Z[S].fcor!=0&&(C*=y),x+=Z[S].lcor*C}for(let S=0;S<ne.length;S++){const M=ne[S].ml*c+ne[S].ms*u+ne[S].f*p+ne[S].d*h;b+=ne[S].l*Math.sin(M)}const T=360*k;let P=.822*Math.sin(T*(.3248-.0017125594*n))+.307*Math.sin(T*(.14905-.0034251187*n))+.348*Math.sin(T*(.68266-.0006873156*n))+.662*Math.sin(T*(.65162+.0365724168*n))+.643*Math.sin(T*(.88098-.0025069941*n))+1.137*Math.sin(T*(.85823+.036448727*n))+.436*Math.sin(T*(.71892+.036217918*n))+.327*Math.sin(T*(.97639+173491e-9*n));return s=s+Be(a)+(x+b+P)/3600,L(s)}function Oe(a){const n=a-2415020,e=n/36525,s=279.696678+.9856473354*n+1.089*e*e/3600,o=281.220833+1.7192*e+45e-5*e*e,d=L(s-o),i=.01675104-418e-7*e-126e-9*e*e,l=Ke(d*k,i),m=2*fe*Math.atan(Math.sqrt((1+i)/(1-i))*Math.tan(l/2));let f=s+m-d;const c=(153.23+22518.7541*e)*k,u=(216.57+45037.5082*e)*k,p=(312.69+32964.3577*e)*k,h=(350.74+445267.1142*e-.00144*e*e)*k;let x=.00134*Math.cos(c)+.00154*Math.cos(u)+.002*Math.cos(p)+.00179*Math.sin(h)+.00178*Math.sin((5.4-1.5*e)*k);const b=1.0000002*(1-i*i)/(1+i*Math.cos(m*k)),g=20.4898/3600/b;let N=f+x+Be(a)-g;return L(N)}const la=2451545,ca={MERCURY:{N:[48.3313,324587e-10],i:[7.0047,5e-8],w:[29.1241,420258e-10],a:[.387098,0],e:[.205635,559e-12],M:[168.6562,4.0923344368]},VENUS:{N:[76.6799,24659e-9],i:[3.3946,275e-10],w:[54.891,138374e-10],a:[.72333,0],e:[.006773,-132e-11],M:[48.0052,1.6021302244]},EARTH:{N:[0,0],i:[0,0],w:[102.9376,713e-7],a:[1,0],e:[.016709,-1151e-12],M:[356.047,.985609102]},MARS:{N:[49.5574,211081e-10],i:[1.8497,-178e-10],w:[286.5016,292961e-10],a:[1.523688,0],e:[.093405,2516e-12],M:[18.6021,.5240207766]},JUPITER:{N:[100.4542,276854e-10],i:[1.303,-1557e-10],w:[273.8777,164505e-10],a:[5.20256,0],e:[.048498,1611e-12],M:[19.895,.0830853001]},SATURN:{N:[113.6634,23898e-9],i:[2.4886,-1081e-10],w:[339.3939,297661e-10],a:[9.55475,0],e:[.055546,-9499e-12],M:[316.967,.0334442282]}};function da(a,n,e){if(n==="SUN"){const h=Oe(a),x=L(h-e),b=Oe(a-.1),g=L(b-e);let N=x-g;N<-180&&(N+=360),N>180&&(N-=360);const y=N/.1;return{planet:n,eclipticLongitude:x,rashi:Math.floor(x/30)+1,degreesInSign:x%30,retrograde:y<0,eclipticLatitude:0,speedLon:y}}if(n==="MOON"){const h=Ee(a),x=L(h-e),b=Ee(a-.1),g=L(b-e);let N=x-g;N<-180&&(N+=360),N>180&&(N-=360);const y=N/.1;return{planet:n,eclipticLongitude:x,rashi:Math.floor(x/30)+1,degreesInSign:x%30,retrograde:!1,eclipticLatitude:0,speedLon:y}}if(n==="RAHU"||n==="KETU"){const h=(a-2451545)/36525,x=L(125.04452-1934.136261*h),b=L(218.3164477+481267.88123421*h),g=L(280.46646+36000.76983*h),N=L(b-g),y=L(b-x);let T=-1.274*Math.sin((x-2*N)*k)-.227*Math.sin(2*y*k);const P=L(x+T),S=L(P-e),M=n==="RAHU"?S:L(S+180);return{planet:n,eclipticLongitude:M,rashi:Math.floor(M/30)+1,degreesInSign:M%30,retrograde:!0,eclipticLatitude:0,speedLon:-.0529}}const s=a-la,o=(h,x)=>{const b=ca[x],g=L(b.N[0]+b.N[1]*h),N=b.i[0]+b.i[1]*h,y=L(b.w[0]+b.w[1]*h),T=b.a[0],P=b.e[0]+b.e[1]*h;let S=L(b.M[0]+b.M[1]*h);const M=Ke(S*k,P),C=T*(Math.cos(M)-P),E=T*Math.sqrt(1-P*P)*Math.sin(M),j=(Math.cos(y*k)*Math.cos(g*k)-Math.sin(y*k)*Math.sin(g*k)*Math.cos(N*k))*C+(-Math.sin(y*k)*Math.cos(g*k)-Math.cos(y*k)*Math.sin(g*k)*Math.cos(N*k))*E,_=(Math.cos(y*k)*Math.sin(g*k)+Math.sin(y*k)*Math.cos(g*k)*Math.cos(N*k))*C+(-Math.sin(y*k)*Math.sin(g*k)+Math.cos(y*k)*Math.cos(g*k)*Math.cos(N*k))*E,I=Math.sin(y*k)*Math.sin(N*k)*C+Math.cos(y*k)*Math.sin(N*k)*E;return{x:j,y:_,z:I}},d=(h,x)=>{const b=o(h,x),g=o(h,"EARTH"),N=b.x-g.x,y=b.y-g.y,T=b.z-g.z,P=L(Math.atan2(y,N)*fe),S=Math.sqrt(N*N+y*y),M=Math.atan2(T,S)*fe;return{longitude:P,latitude:M}},{longitude:i,latitude:l}=d(s,n),{longitude:m}=d(s-.1,n),f=L(i-e),c=L(m-e);let u=f-c;u<-180&&(u+=360),u>180&&(u-=360);const p=u/.1;return{planet:n,eclipticLongitude:f,rashi:Math.floor(f/30)+1,degreesInSign:f%30,retrograde:p<0,eclipticLatitude:l,speedLon:p}}const ua=365.2425;function J(a,n){const e=new Date(a),s=Math.trunc(n),o=n-s;return s!==0&&e.setFullYear(e.getFullYear()+s),o!==0&&e.setDate(e.getDate()+o*ua),e}function ha(a,n,e,s){const o=(a-2451545)/36525,d=280.46061837+360.98564736629*(a-2451545)+387933e-9*o*o-o*o*o/3871e4,i=L(d+e),l=23.439291-.0130042*o,m=fe*Math.atan2(Math.cos(i*k),-(Math.sin(i*k)*Math.cos(l*k)+Math.tan(n*k)*Math.sin(l*k)));return L(m-s)}function ga(a){return Array.from({length:12},(n,e)=>({houseNumber:e+1,cuspLongitude:L(a+e*30),sign:Math.floor(L(a+e*30)/30)+1}))}function ma(a){const n=13.333333333333334,e=Math.floor(a/n),s=a%n/n,o=["KETU","VENUS","SUN","MOON","MARS","RAHU","JUPITER","SATURN","MERCURY"],d=[7,20,6,10,7,18,16,19,17],i=e%9,l=o[i],m=(1-s)*d[i];return{lord:l,balance:m}}function Le(a,n){const e=["KETU","VENUS","SUN","MOON","MARS","RAHU","JUPITER","SATURN","MERCURY"],s=[7,20,6,10,7,18,16,19,17],o=s.reduce((f,c)=>f+c),d=e.indexOf(a),i=s[d];let l=new Date(n);const m=[];for(let f=0;f<9;f++){const c=(d+f)%9,u=e[c],p=s[c]*i/o,h=J(l,p);m.push({planet:u,start:l.toISOString(),end:h.toISOString()}),l=h}return m}function $e(a,n){const{lord:e,balance:s}=ma(a),o=["KETU","VENUS","SUN","MOON","MARS","RAHU","JUPITER","SATURN","MERCURY"],d=[7,20,6,10,7,18,16,19,17],i=[];let l=new Date(n);const m=J(l,s);i.push({planet:e,start:l.toISOString(),end:m.toISOString(),subDashas:Le(e,l)}),l=m;let f=(o.indexOf(e)+1)%9;for(let c=0;c<15;c++){const u=o[f],p=d[f],h=J(l,p);i.push({planet:u,start:l.toISOString(),end:h.toISOString(),subDashas:Le(u,l)}),l=h,f=(f+1)%9}return i}function fa(a,n){const e=$e(a,n),s=[];for(const o of e){const d=new Date(o.start),m=(new Date(o.end).getTime()-d.getTime())/3;for(let f=0;f<3;f++){const c=new Date(d.getTime()+m*f),u=new Date(d.getTime()+m*(f+1));s.push({planet:o.planet,start:c.toISOString(),end:u.toISOString()})}}return s}function _e(a,n,e){const s=["SUN","MOON","MARS","MERCURY","SATURN","JUPITER","RAHU","VENUS"],o=[6,15,8,17,10,19,12,21],d=108,i=s.indexOf(a);if(i===-1)return[];let l=new Date(n);const m=[];for(let f=0;f<8;f++){const c=(i+f)%8,u=s[c],p=o[c]*e/d,h=J(l,p);m.push({planet:u,start:l.toISOString(),end:h.toISOString()}),l=h}return m}function pa(a,n,e){const s=Math.floor(a/13.333333333333334),o=["SUN","MOON","MARS","MERCURY","SATURN","JUPITER","RAHU","VENUS"],d=[6,15,8,17,10,19,12,21],i=e==="कृष्ण पक्ष",m=(()=>{if(i){if(s===5)return"SATURN";if(s===6)return"JUPITER";if(s===11)return"RAHU";if(s===15)return"VENUS"}return s>=2&&s<=5?"SUN":s>=6&&s<=8?"MOON":s>=9&&s<=11?"MARS":s>=12&&s<=14?"MERCURY":s>=15&&s<=17?"SATURN":s>=18&&s<=20?"JUPITER":s>=21&&s<=23?"RAHU":"VENUS"})(),f=o.indexOf(m);if(f===-1)return[];const c=360/27,p=(1-a%c/c)*d[f],h=[];let x=new Date(n);const b=J(x,p);h.push({planet:m,start:x.toISOString(),end:b.toISOString(),subDashas:_e(m,x,d[f])}),x=b;let g=(f+1)%8;for(let N=0;N<10;N++){const y=o[g],T=d[g],P=J(x,T);h.push({planet:y,start:x.toISOString(),end:P.toISOString(),subDashas:_e(y,x,T)}),x=P,g=(g+1)%8}return h}function Re(a,n,e){const s=["Mangala","Pingala","Dhanya","Bhramari","Bhadrika","Ulka","Siddha","Sankata"],o=[1,2,3,4,5,6,7,8],d=36,i=s.indexOf(a);if(i===-1)return[];let l=new Date(n);const m=[];for(let f=0;f<8;f++){const c=(i+f)%8,u=s[c],p=o[c]*e/d,h=J(l,p);m.push({planet:u,start:l.toISOString(),end:h.toISOString()}),l=h}return m}function xa(a,n){const e=13.333333333333334,s=Math.floor(a/e),o=["Mangala","Pingala","Dhanya","Bhramari","Bhadrika","Ulka","Siddha","Sankata"],d=[1,2,3,4,5,6,7,8],i=(s+3)%8,l=o[i],m=(1-a%e/e)*d[i],f=[];let c=new Date(n);const u=J(c,m);f.push({planet:l,start:c.toISOString(),end:u.toISOString(),subDashas:Re(l,c,d[i])}),c=u;let p=(i+1)%8;for(let h=0;h<10;h++){const x=o[p],b=d[p],g=J(c,b);f.push({planet:x,start:c.toISOString(),end:g.toISOString(),subDashas:Re(x,c,b)}),c=g,p=(p+1)%8}return f}const ba={SUN:1,MOON:2,MARS:10,MERCURY:6,JUPITER:4,VENUS:12,SATURN:7},ya={SUN:7,MOON:8,MARS:4,MERCURY:12,JUPITER:10,VENUS:6,SATURN:1};function Na(a,n,e){const s=e/12,o=[0,3,6,9],d=[1,4,7,10];let i;o.includes(a)?i=a:d.includes(a)?i=(a+6)%12:i=(a+4)%12;let l=new Date(n);const m=[];for(let f=0;f<12;f++){const c=(i+f)%12,u=J(l,s);m.push({planet:ge[c],start:l.toISOString(),end:u.toISOString()}),l=u}return m}function Sa(a,n,e){const s=Math.floor(n/30),o=(s+1)%2!==0;let d=[];if(o)for(let c=0;c<12;c++)d.push((s+c)%12);else for(let c=0;c<12;c++)d.push((s-c+12)%12);let i=new Date(e);const l=[],m=new Map;a.forEach(c=>{m.set(c.planet,c.rashi-1)});const f=[0,1,2,6,7,8];for(const c of d){const u=c+1,p=ke[u],h=m.get(p);if(h===void 0){l.push({planet:ge[c],start:"N/A",end:"N/A"});continue}let x;f.includes(c)?x=(h-c+12)%12:x=(c-h+12)%12;let b=x===0?12:x;const g=h+1;ba[p]===g&&(b+=1),ya[p]===g&&(b-=1),b>12&&(b=12),b<1&&(b=1);const N=new Date(i),y=J(N,b);if(isNaN(y.getTime())){l.push({planet:ge[c],start:N.toISOString(),end:"N/A"});continue}l.push({planet:ge[c],start:N.toISOString(),end:y.toISOString(),subDashas:Na(c,N,b)}),i=y}return l}function va(a,n,e){const s=i=>{const l=Math.floor(i/30),m=i%30,f=30/a,c=Math.floor(m/f);let u,p=i*a%30;switch(a){case 3:u=(l+[0,4,8][c])%12;break;case 4:u=(l+c*3)%12;break;case 9:const x=Math.floor(l/4);u=([0,4,8][x]+c)%12;break;case 10:u=((l%2===0?l:(l+8)%12)+c)%12;break;case 12:u=(l+c)%12;break;case 60:const y=i*a;u=Math.floor(y/30)%12;break;default:const T=i*a;u=Math.floor(T/30)%12,p=T%30;break}return{sign:u+1,degreesInSign:p}},o=n.map(i=>{const{sign:l,degreesInSign:m}=s(i.eclipticLongitude);return{planet:i.planet,sign:l,degreesInSign:m,retrograde:i.retrograde,nakshatra:i.nakshatra,nakshatraPada:i.nakshatraPada}}),d=s(e);return{name:`D${a}`,planets:o,ascendant:{...d,nakshatra:"",nakshatraPada:0}}}function ka(a,n,e){return{varna:Ut[Vt[a]],vasya:Rt[ve[a]],yoni:le[$t[n]],gana:_t[Bt[n]],nadi:Lt[Kt[n]],tatva:Ot[Yt[a]],paya:(a-1)%4===0?ce.Suvarna:(a-2)%4===0?ce.Rajat:(a-3)%4===0?ce.Tamra:ce.Loha,rashiLord:re[ke[a]],lagnesh:re[ke[e]]}}function wa(a,n){const e={varna:0,vasya:0,tara:0,yoni:0,grahaMaitri:0,gana:0,bhakoot:0,nadi:0,total:0},s={ब्राह्मण:4,क्षत्रिय:3,वैश्य:2,शूद्र:1};e.varna=s[a.ashtaKoota.varna]>=s[n.ashtaKoota.varna]?1:0;const o=`अनुकूलता: ${e.varna===1?"अनुकूल":"कम अनुकूल"}`,d=ve[a.planets.find(A=>A.planet==="MOON").rashi],i=ve[n.planets.find(A=>A.planet==="MOON").rashi];let l;d===i?(e.vasya=2,l="समान वश्य"):d==="Vanachara"&&i==="Chatushpada"||d==="Dwipada"&&i!=="Jalachara"?(e.vasya=2,l="अनुकूल वश्य "):d==="Jalachara"&&i==="Dwipada"?(e.vasya=0,l="असंगत वश्य"):(e.vasya=.5,l="आंशिक वश्य ");const m=a.nakshatra.index,c=((n.nakshatra.index-m)%9+9)%9;e.tara=Ft[c]??0;const u=Et[c],p=Object.keys(le).find(A=>le[A]===a.ashtaKoota.yoni),h=Object.keys(le).find(A=>le[A]===n.ashtaKoota.yoni);let x=`${a.ashtaKoota.yoni} ⇔ ${n.ashtaKoota.yoni}`;if(p&&h){const A=Dt[p][h]??0;e.yoni=A;let G="";A>=4?G="अत्यन्त अनुकूल":A>=2?G="अनुकूल":A===1?G="कम अनुकूल":G="असंगत",x=`${G}`}const b=Object.keys(re).find(A=>re[A]===a.ashtaKoota.rashiLord),g=Object.keys(re).find(A=>re[A]===n.ashtaKoota.rashiLord),N=Ae[b][g],y=Ae[g][b],T=A=>A==="मित्र"?5:A==="तटस्थ"?4:.5,P=T(N),S=T(y);e.grahaMaitri=Math.min(P,S);let M="";e.grahaMaitri===5?M="मित्र":e.grahaMaitri===4?M="तटस्थ":M="शत्रु";const C=N===y?N:`${M} (ग्रह दृष्टि: ${N} ⇔ ${y})`,E=a.ashtaKoota.gana,j=n.ashtaKoota.gana;E===j||E==="देव"&&j==="मनुष्य"||E==="मनुष्य"&&j==="देव"?e.gana=6:E==="देव"&&j==="राक्षस"||E==="राक्षस"&&j==="देव"?e.gana=1:e.gana=0;const _=Ie[E]??E,I=Ie[j]??j;let U;E===j?(e.gana=6,U=`समान गण (${_})`):E==="देव"&&j==="मनुष्य"||E==="मनुष्य"&&j==="देव"?(e.gana=6,U=`अनुकूल गण (${_} ⇔ ${I})`):E==="देव"&&j==="राक्षस"||E==="राक्षस"&&j==="देव"?(e.gana=1,U=`असंगत गण (${_} ⇔ ${I})`):(e.gana=0,U=`असंगत गण (${_} ⇔ ${I})`);const B=a.planets.find(A=>A.planet==="MOON").rashi,z=((n.planets.find(A=>A.planet==="MOON").rashi-B)%12+12)%12;let $,H;switch(z){case 1:case 11:$="अति शुभ",H=7;break;case 3:case 10:$="शुभ",H=6;break;case 4:case 7:$="मध्यम शुभ",H=5;break;case 6:case 8:$="अशुभ",H=2;break;case 2:case 5:case 9:case 12:$="अति अशुभ",H=0;break;default:$="अशुभ",H=0}e.bhakoot=H,e.nadi=a.ashtaKoota.nadi===n.ashtaKoota.nadi?0:8;const v=Pe[a.ashtaKoota.nadi]??"",D=Pe[n.ashtaKoota.nadi]??"",R=a.ashtaKoota.nadi===n.ashtaKoota.nadi?`समान नाड़ी (${v})`:`फरक नाड़ी (${v} ⇔ ${D})`;e.total=Object.values(e).reduce((A,G)=>A+G),e.total=Math.round(e.total*2)/2;let Y=`कुल ${Ct(e.total)}/३६ गुण मिलान भएको छ। `;return e.total>=28?Y+="यो अति उत्तम मिलान हो।":e.total>=24?Y+="यो उत्तम मिलान हो।":e.total>=18?Y+="यो मध्यम मिलान हो, विवाह गर्न सकिन्छ।":Y+="यो मिलान विवाहको लागि उपयुक्त मानिदैन।",{score:e,conclusion:Y,labels:{taraLabel:u,bhakootLabel:$,grahaMaitriLabel:C,varnaLabel:o,vasyaLabel:l,yoniLabel:x,ganaLabel:U,nadiLabel:R}}}const Ma=["SUN","MOON","MARS","MERCURY","JUPITER","VENUS","SATURN","RAHU","KETU"],V=360/27,de=V/4,ie=1e-9,ye=a=>(a%360+360)%360;async function we(a){try{const[,n]=a.datetime.split("T"),[e,s,o]=n.split(":").map(Number),d=new Date(new Date(a.datetime).getTime()+a.offset*36e5),i=(e*3600+s*60+o)/86400,l=new Date(Date.parse(a.datetime)),m=Ye(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate())+(l.getUTCHours()+l.getUTCMinutes()/60+l.getUTCSeconds()/3600)/24,f=Ce(m),c=zt(f),u=Ht(d,a.longitude,i),p=ae(u),h=Te(u),x=ye(p),b=Math.floor((x-ie)/V),g=x-b*V,N=Math.floor((g-ie)/de)+1,y=be[b]?.name??"?",T=Math.floor(p/V),P=Q(u-1,ae,T*V,2),S=Q(u,ae,(T+1)*V,2),M=T*4+(N-1),C=Q(u-.5,ae,M*de,2),E=Q(u,ae,(M+1)*de,2),j=oe(u),_=Math.floor(j/12),I=_%30+1,U=I<=15?"शुक्ल पक्ष":"कृष्ण पक्ष",B=Q(u-1,oe,_*12,2),F=Q(u,oe,(_+1)*12,2),z=h+p,$=Math.floor((z%360-ie)/V),H=Gt[$]??"?",v=Math.floor(z/V),D=v*V,R=(v+1)*V,Y=X=>Te(X)+ae(X),A=Q(u-1,Y,D,2),G=Q(u,Y,R,2),pe=Math.floor(j/6),Ve=De[pe%De.length],Fe=Q(u-1,oe,pe*6,2),ze=Q(u,oe,(pe+1)*6,2),W=X=>X?Jt(X,u,d).toISOString():"",Me=Wt(d,a.latitude,a.longitude,a.offset),xe=Ma.map(X=>{const ee=da(m,X,f),tt=Math.floor(ee.eclipticLongitude/V),at=Math.floor(ee.eclipticLongitude%V/(V/4))+1;return{planet:X,eclipticLongitude:ee.eclipticLongitude,eclipticLatitude:ee.eclipticLatitude,speedLon:ee.speedLon,rashi:ee.rashi,degreesInSign:ee.degreesInSign,retrograde:ee.retrograde,nakshatra:be[tt]?.name??"?",nakshatraPada:at}}),He=Ce(m),q=ha(m,a.latitude,a.longitude,He),Ge=ga(q),Je=$e(x,d),We=fa(x,d),Xe=xa(x,d),Qe=pa(x,d,U),Ze=Sa(xe,q,d),qe=[9,10,3,12,4,60].map(X=>va(X,xe,q)),et=ka(Math.floor(x/30)+1,b,Math.floor(q/30)+1);return{birthDetails:{...a},calculationMeta:{backend:"Nepdate-astroCalc",ayanamsa:"Lahiri",ayanamsaString:c,zodiac:"Sidereal",houseSystem:"Whole Sign",calculationUtc:new Date().toISOString(),version:"2.3.0"},sunRise:Me.sunrise,sunSet:Me.sunset,planets:xe,ascendant:{longitude:q,sign:Math.floor(q/30)+1,degreesInSign:q%30,nakshatra:be[Math.floor((ye(q)-ie)/V)]?.name??"?",nakshatraPada:Math.floor((ye(q)%V-ie)/de)+1},houses:Ge,nakshatra:{index:b,pada:N,nameNepali:y,start:W(P),end:W(S),padaStart:W(C),padaEnd:W(E)},tithi:{tithiNumber:I,paksha:U,start:W(B),end:W(F)},yoga:{name:H,start:W(A),end:W(G)},karana:{name:Ve,start:W(Fe),end:W(ze)},tithis:[],nakshatras:[],yogas:[],karanas:[],dashaSequence:Je,tribhagiDasha:We,yoginiDasha:Xe,ashtottariDasha:Qe,jaiminiDasha:Ze,divisionalCharts:qe,ashtaKoota:et}}catch(n){return{error:n instanceof Error?n.message:"Unknown error during calculation."}}}async function ja(a,n){const e=await we(a),s=await we(n);if("error"in e||"error"in s)return{error:"Could not calculate kundali for one or both individuals."};const{score:o,conclusion:d,labels:i}=wa(e,s);return{groom:e,bride:s,score:o,conclusion:d,labels:i}}const ue={getKundali:we,getComparison:ja},he=a=>new Promise(n=>setTimeout(n,a)),Aa=(a,n)=>St.find(e=>e.latitude===a&&e.longitude===n),Ne=a=>{const n=new Date(a.datetime),e=Se(n),s=n.getHours(),o=s>=12?"PM":"AM";let d=s%12||12;const i=Aa(a.latitude,a.longitude)||{name:`${a.latitude.toFixed(4)}, ${a.longitude.toFixed(4)}`,romanization:"Manual Selection",latitude:a.latitude,longitude:a.longitude,zoneId:a.zoneId,offset:a.offset};return{name:a.name,dateSystem:"BS",bsYear:e.year,bsMonth:e.monthIndex+1,bsDay:e.day,hour:d,minute:n.getMinutes(),second:n.getSeconds(),period:o,location:i}},Pa=({mode:a,onModeChange:n})=>{const e=w.useMemo(()=>{switch(a){case"individual":return"translateX(0%)";case"comparison":return"translateX(100%)";default:return"translateX(200%)"}},[a]);return t.jsxs("div",{className:"relative flex w-full max-w-md mx-auto p-1 bg-gray-200 dark:bg-gray-700 rounded-full mb-6",children:[t.jsx("span",{className:"absolute inset-y-0 w-1/3 bg-blue-500 rounded-full shadow-md transition-transform duration-300 ease-in-out",style:{transform:e}}),["individual","comparison","saved"].map(s=>t.jsx("button",{type:"button",onClick:()=>n(s),className:`relative w-1/3 py-2 text-sm font-medium transition-colors duration-300 rounded-full ${a===s?"text-white":"text-gray-600 dark:text-gray-300"}`,"aria-pressed":a===s,children:K[s]},s))]})},Ue=({onBack:a,setIsKundaliResultsVisible:n,setKundaliBackAction:e})=>{const[s,o]=w.useState("individual"),[d,i]=w.useState(null),[l,m]=w.useState(null),[f,c]=w.useState(!1),[u,p]=w.useState(null),[h,x]=w.useState(!1),[b,g]=w.useState(null),[N,y]=w.useState(Date.now());w.useEffect(()=>{n(!!(d||l||u||h))},[d,l,u,h,n]);const T=w.useCallback(()=>{i(null),m(null),c(!1),p(null),g(null),y(Date.now())},[]);w.useEffect(()=>(e(T),()=>e(()=>{})),[T,e]),w.useEffect(()=>{x(s==="saved")},[s]);const P=()=>{d||l||u||h?T():a()},S=(j,_)=>{try{const I=JSON.parse(localStorage.getItem("savedKundalis")||"[]");let U,B=-1;if(j==="individual"){const F=_;B=I.findIndex(z=>z.type==="individual"&&z.name===F.name),U={id:B!==-1?I[B].id:Date.now(),type:"individual",name:F.name,timestamp:new Date().toISOString(),data:F,defaultValues:Ne(F)}}else{const{groom:F,bride:z}=_;B=I.findIndex($=>$.type==="comparison"&&$.groomName===F.name&&$.brideName===z.name),U={id:B!==-1?I[B].id:Date.now(),type:"comparison",groomName:F.name,brideName:z.name,timestamp:new Date().toISOString(),data:{groom:F,bride:z},defaultValues:{groom:Ne(F),bride:Ne(z)}}}B!==-1&&I.splice(B,1),localStorage.setItem("savedKundalis",JSON.stringify([U,...I].slice(0,10)))}catch(I){const U=I instanceof Error?I.message:String(I);me(`Failed to save data: ${U}`,"warning",2e3)}},M=j=>{j.type==="individual"?(g({individual:j.defaultValues}),o("individual")):(g({groom:j.defaultValues.groom,bride:j.defaultValues.bride}),o("comparison")),y(Date.now()),x(!1)},C=async j=>{x(!1),c(!0),p(null);try{if(j.type==="individual"){const[_,I]=await Promise.all([he(1e3),ue.getKundali(j.data)]);"error"in I?p(I.error):(i(I),S("individual",j.data))}else{const[_,I]=await Promise.all([he(1e3),ue.getComparison(j.data.groom,j.data.bride)]);"error"in I?p(I.error):(m(I),S("comparison",j.data))}}catch(_){p(_ instanceof Error?_.message:"An unexpected error occurred.")}finally{c(!1)}},E=()=>f?t.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[300px]",children:[t.jsxs("svg",{className:"animate-spin h-10 w-10 text-amber-800 dark:text-amber-400 mb-4",viewBox:"0 0 24 24",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8z"})]}),t.jsx("div",{className:"text-lg font-semibold text-amber-800 dark:text-amber-400",children:K.calculating})]}):u?t.jsx("div",{className:"mt-4 bg-red-50 dark:bg-red-900/30 rounded-lg text-center p-4",children:t.jsxs("div",{className:"flex flex-col items-center justify-center",children:[t.jsxs("svg",{className:"w-16 h-16 text-red-500 dark:text-red-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),t.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),t.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}),t.jsx("p",{className:"mt-4 text-xl text-red-700 dark:text-red-400",children:u}),t.jsx("button",{className:"mt-4 text-blue-600 dark:text-blue-400 underline",onClick:P,children:K.returnToForm})]})}):d?t.jsx(Xt,{data:d,onReturnToForm:P}):l?t.jsx(Qt,{result:l,onReturnToForm:P}):t.jsxs(t.Fragment,{children:[t.jsx(Pa,{mode:s,onModeChange:o}),s==="comparison"?t.jsx(Zt,{isLoading:f,defaultValues:b||{},onCalculate:async(j,_)=>{c(!0),p(null);const[I,U]=await Promise.all([he(1e3),ue.getComparison(j,_)]);"error"in U?p(U.error):(m(U),S("comparison",{groom:j,bride:_})),c(!1)}},N):t.jsx(qt,{isLoading:f,defaultValues:b?.individual,onCalculate:async j=>{c(!0),p(null);const[_,I]=await Promise.all([he(1e3),ue.getKundali(j)]);"error"in I?p(I.error):(i(I),S("individual",j)),c(!1)}},N),h&&t.jsx(ea,{onClose:()=>o("individual"),onEdit:M,onView:C})]});return t.jsx("main",{className:"flex-1 flex flex-col overflow-hidden px-2 md:px-3 max-w-7xl mx-auto w-full bg-slate-200 text-gray-900 dark:bg-gray-800 dark:text-gray-100 transition-colors",children:t.jsxs("div",{className:"min-h-3 sm:p-6 md:p-6 lg:p-8",children:[t.jsxs("div",{className:"flex justify-center text-base mb-4 font-bold text-gray-500 dark:text-gray-400",children:[K.Software_name,": ",K.Software_version]}),E()]})})},Ya=Object.freeze(Object.defineProperty({__proto__:null,KundaliPage:Ue,default:Ue},Symbol.toStringTag,{value:"Module"})),se=({label:a,icon:n,isActive:e,onClick:s})=>t.jsxs("button",{onClick:s,disabled:e,className:`flex flex-col items-center justify-center p-4 border-2 rounded-lg w-32 h-28 transition-colors ${e?"border-blue-600 bg-blue-50 dark:bg-blue-900/50 cursor-default":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 hover:border-blue-500 dark:hover:border-blue-400"}`,children:[n,t.jsx("span",{className:"mt-2 text-sm font-medium",children:a})]}),Ia=({currentTheme:a,onThemeChange:n,currentMenuStyle:e,onMenuStyleChange:s,currentDesktopLayoutStyle:o,onDesktopLayoutStyleChange:d,onResetSettings:i,isAndroidApp:l,onReloadApp:m})=>{const f=()=>{window.Android&&window.Android.openWidgetSettings?window.Android.openWidgetSettings():(console.warn("Android bridge is not available."),me("Could not open widget settings. Are you in the native app?","error",3e3))};return t.jsx("div",{className:"p-3 max-w-2xl mx-auto",children:t.jsxs("div",{className:"space-y-5",children:[t.jsxs("section",{className:"p-4 bg-white dark:bg-gray-700 rounded-lg shadow",children:[t.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Reload App"}),t.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-4",children:"If you are online, this will clear the app cache and reload from the server. If offline, it will just refresh the current view."}),t.jsx("button",{onClick:m,className:"px-4 py-2 rounded-lg text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-800 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Clear Cache and Reload"})]}),l&&t.jsxs("section",{className:"p-4 bg-white dark:bg-gray-700 rounded-lg shadow",children:[t.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Android Widget"}),t.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-4",children:"Customize the home screen widget for your device."}),t.jsx("button",{onClick:f,className:"px-4 py-2 rounded-lg text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-800 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Open Widget Settings"})]}),t.jsxs("section",{className:"p-3 bg-white dark:bg-gray-700 rounded-lg shadow",children:[t.jsx("h2",{className:"text-lg font-semibold mb-3",children:K.theme}),t.jsxs("div",{className:"flex space-x-4",children:[t.jsx(se,{label:K.lightMode,icon:t.jsx(nt,{className:"w-8 h-8 text-yellow-500"}),isActive:a==="light",onClick:a==="light"?void 0:n}),t.jsx(se,{label:K.darkMode,icon:t.jsx(st,{className:"w-8 h-8 text-blue-300"}),isActive:a==="dark",onClick:a==="dark"?void 0:n})]})]}),t.jsxs("section",{className:"p-4 bg-white dark:bg-gray-700 rounded-lg shadow md:hidden",children:[t.jsx("h2",{className:"text-lg font-semibold mb-1",children:K.mobileNavStyle}),t.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-4",children:K.mobileNavDesc}),t.jsxs("div",{className:"flex space-x-4",children:[t.jsx(se,{label:K.slideMenu,icon:t.jsx(je,{className:"w-8 h-8"}),isActive:e==="slide",onClick:e==="slide"?void 0:()=>s("slide")}),t.jsx(se,{label:K.tabBar,icon:t.jsx(rt,{className:"w-8 h-8"}),isActive:e==="tabs",onClick:e==="tabs"?void 0:()=>s("tabs")})]})]}),t.jsxs("section",{className:"hidden md:block p-4 bg-white dark:bg-gray-700 rounded-lg shadow",children:[t.jsx("h2",{className:"text-lg font-semibold mb-1",children:K.desktopNavStyle}),t.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-4",children:K.desktopNavDesc}),t.jsxs("div",{className:"flex space-x-4",children:[t.jsx(se,{label:"Top Bar",icon:t.jsx(ot,{className:"w-8 h-8"}),isActive:o==="topbar",onClick:o==="topbar"?void 0:()=>d("topbar")}),t.jsx(se,{label:"Side Bar",icon:t.jsx(je,{className:"w-8 h-8"}),isActive:o==="sidebar",onClick:o==="sidebar"?void 0:()=>d("sidebar")})]})]}),t.jsxs("section",{className:"p-4 bg-white dark:bg-gray-700 rounded-lg shadow",children:[t.jsx("h2",{className:"text-lg font-semibold mb-2",children:K.resetMessage}),t.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-4",children:K.resetMessageDesc}),t.jsx("button",{onClick:i,className:"px-4 py-2 rounded-lg text-sm font-medium text-white bg-red-600 hover:bg-red-700 dark:bg-red-700 dark:hover:bg-red-800 transition-colors focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2",children:K.reset})]})]})})},Ka=Object.freeze(Object.defineProperty({__proto__:null,default:Ia},Symbol.toStringTag,{value:"Module"})),Ta=()=>{const[a,n]=w.useState(0),[e,s]=w.useState(!1),[o,d]=w.useState(!1),[i,l]=w.useState(()=>{const v=localStorage.getItem("nepali_fm_volume");return v?parseFloat(v):1}),[m,f]=w.useState("standard"),[c,u]=w.useState(0),[p,h]=w.useState("pending"),[x,b]=w.useState({}),g=w.useRef(null),N=w.useRef(null),y=te[a],T=v=>{const D=te[v]?.id;return D!=null?x[D]:void 0},P=v=>(v+1)%te.length,S=v=>v===0?te.length-1:v-1,M=(v=te.length)=>{if(v<=0){s(!1),h("offline");return}const D=P(a),R=T(D);if(n(D),R==="offline"){M(v-1);return}s(!0),h(R==="online"?"connecting":"checking")};w.useEffect(()=>{let v=!0;return(async()=>{for(const R of te){if(!v)break;if(!(x[R.id]&&x[R.id]!=="pending")){b(Y=>({...Y,[R.id]:"checking"}));try{const Y=new AbortController,A=setTimeout(()=>Y.abort(),3e3);await fetch(R.src,{method:"HEAD",mode:"no-cors",signal:Y.signal}),clearTimeout(A),v&&b(G=>({...G,[R.id]:"online"}))}catch{v&&b(Y=>({...Y,[R.id]:"offline"}))}await new Promise(Y=>setTimeout(Y,200))}}v&&e&&x[y.id]==="offline"&&M()})(),()=>{v=!1}},[]),w.useEffect(()=>{if(!g.current)return;u(0),N.current&&clearTimeout(N.current);const v=x[y.id];if(h(v==="online"?"connecting":"checking"),g.current.src=y.src,g.current.load(),e){const D=g.current.play();D!==void 0&&D.then(()=>{}).catch(R=>{C(!0)})}},[a]),w.useEffect(()=>{g.current&&(g.current.volume=o?0:i)},[i,o]),w.useEffect(()=>{if(window.Android&&window.Android.onHtml5AudioEvent){const v=y.name||"Unknown Station",D=y.author||"Live Radio",R=y.cover.startsWith("http")?y.cover:`${window.location.origin}/${y.cover}`;window.Android.onHtml5AudioEvent(y.src,e,v,D,R)}},[e,y]),w.useEffect(()=>{const v=D=>{D==="pause"||D==="stop"?g.current&&!g.current.paused?g.current.pause():s(!1):D==="play"&&g.current&&g.current.paused&&(h("connecting"),g.current.play().catch(()=>C(!0)))};return window.controlPlayer=v,()=>{delete window.controlPlayer}},[]);const C=(v=!1)=>{b(D=>({...D,[y.id]:"offline"})),m==="high"&&c<5&&!v?(h("reconnecting"),u(D=>D+1),N.current=setTimeout(()=>{g.current&&e&&(g.current.load(),g.current.play().catch(()=>{M()}))},1500)):M()},E=()=>C(),j=()=>{e&&m==="high"&&C()},_=()=>{s(!0),u(0),h("online"),b(v=>({...v,[y.id]:"online"}))},I=()=>{s(!1)},U=()=>{p!=="offline"&&p!=="reconnecting"&&h("connecting")},B=()=>{if(g.current)if(N.current&&clearTimeout(N.current),u(0),e)g.current.pause();else{const v=x[y.id];if(v==="offline"){M();return}s(!0),h(v==="online"?"connecting":"checking");const D=g.current.play();D!==void 0&&D.catch(()=>C(!0))}},F=()=>{n(v=>P(v)),s(!0)},z=()=>{n(v=>S(v)),s(!0)},$=v=>{const D=parseFloat(v.target.value);l(D),localStorage.setItem("nepali_fm_volume",D.toString()),D>0&&d(!1)},H=v=>{switch(v){case"online":return"bg-green-500";case"connecting":return"bg-blue-500";case"reconnecting":return"bg-orange-500";case"checking":return"bg-yellow-400";case"offline":return"bg-red-500";default:return"bg-gray-300"}};return t.jsxs("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 flex items-center justify-center p-4 select-none",children:[t.jsx("audio",{ref:g,onError:E,onPlaying:_,onPause:I,onWaiting:U,onStalled:j,crossOrigin:"anonymous"}),t.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-xl w-full max-w-md overflow-hidden relative flex flex-col max-h-[90vh]",children:[t.jsxs("div",{className:"p-4 pt-6 flex flex-col items-center shrink-0",children:[t.jsxs("div",{className:`relative w-32 h-32 rounded-full border-4 border-gray-100 dark:border-gray-700 shadow-inner overflow-hidden mb-4 transition-transform duration-[10000ms] linear ${e?"rotate-slow":""}`,children:[t.jsx("img",{src:y.cover,alt:y.name,className:"w-full h-full object-cover"}),t.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-4 h-4 bg-white dark:bg-gray-700 rounded-full border border-gray-200 dark:border-gray-600 z-10"})]}),t.jsxs("div",{className:"text-center mb-4 w-full",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-gray-100 line-clamp-1 px-2",children:y.name}),t.jsx("div",{className:"flex items-center justify-center gap-2 mt-1 h-5",children:p==="offline"?t.jsxs("span",{className:"text-red-500 text-xs font-medium flex items-center gap-1",children:[t.jsx(it,{size:12})," Stream Offline"]}):p==="reconnecting"?t.jsxs("span",{className:"text-orange-500 text-xs font-medium animate-pulse flex items-center gap-1",children:[t.jsx(lt,{size:12,className:"animate-spin"})," Reconnecting..."]}):p==="connecting"?t.jsx("span",{className:"text-blue-500 text-xs font-medium animate-pulse",children:"Buffering..."}):p==="checking"?t.jsx("span",{className:"text-yellow-500 text-xs font-medium animate-pulse",children:"Checking..."}):t.jsx("span",{className:"text-gray-500 dark:text-gray-400 text-xs font-mono tracking-wide",children:y.author})})]}),t.jsxs("div",{className:"flex items-center justify-center gap-8 mb-6 w-full",children:[t.jsx("button",{onClick:z,className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 transition",children:t.jsx(ct,{className:"w-8 h-8",fill:"currentColor"})}),t.jsx("button",{onClick:B,className:`w-16 h-16 rounded-full flex items-center justify-center text-white shadow-lg transition transform active:scale-95 hover:scale-105 ${p==="offline"?"bg-gray-300 dark:bg-gray-600":"bg-blue-600 hover:bg-blue-700"}`,children:p==="connecting"||p==="checking"||p==="reconnecting"?t.jsx("div",{className:"w-7 h-7 border-2 border-white border-t-transparent rounded-full animate-spin"}):e?t.jsx(dt,{className:"w-7 h-7",fill:"currentColor"}):t.jsx(ut,{className:"w-7 h-7 ml-1",fill:"currentColor"})}),t.jsx("button",{onClick:F,className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 transition",children:t.jsx(ht,{className:"w-8 h-8",fill:"currentColor"})})]}),t.jsxs("div",{className:"w-full flex items-center gap-3 px-6 mb-4",children:[t.jsx("button",{onClick:()=>d(!o),className:"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300",children:o||i===0?t.jsx(gt,{size:18}):t.jsx(mt,{size:18})}),t.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:o?0:i,onChange:$,className:"w-full h-1.5 bg-gray-200 dark:bg-gray-700 rounded-lg appearance-none cursor-pointer accent-blue-600"})]}),t.jsx("div",{className:"w-full px-4 flex justify-center",children:t.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700 p-1 rounded-lg flex gap-1",children:[t.jsxs("button",{onClick:()=>f("standard"),className:`flex items-center gap-1 px-3 py-1.5 rounded-md text-[10px] font-medium transition-all ${m==="standard"?"bg-white dark:bg-gray-800 text-blue-600 shadow-sm":"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300"}`,children:[t.jsx(ft,{size:12})," Standard"]}),t.jsxs("button",{onClick:()=>f("high"),className:`flex items-center gap-1 px-3 py-1.5 rounded-md text-[10px] font-medium transition-all ${m==="high"?"bg-white dark:bg-gray-800 text-orange-600 shadow-sm":"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300"}`,children:[t.jsx(pt,{size:12})," Auto-Retry"]})]})})]}),t.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 border-t dark:border-gray-700 overflow-y-auto flex-1",children:te.map((v,D)=>{const R=D===a,Y=R&&e?"online":x[v.id]||"pending",A=R?p:Y;return t.jsxs("div",{onClick:()=>{R&&e?B():x[v.id]==="offline"?(n(D),M()):(n(D),s(!0),h(x[v.id]==="online"?"connecting":"checking"))},className:`p-3 px-4 flex items-center border-b dark:border-gray-700 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 transition ${R?"bg-blue-50 dark:bg-blue-900 border-l-4 border-blue-500":""}`,children:[t.jsxs("div",{className:"mr-3 relative flex items-center justify-center w-3 h-3",children:[t.jsx("span",{className:`w-2.5 h-2.5 rounded-full transition-colors duration-300 ${H(A)}`}),["online","checking","connecting","reconnecting"].includes(A)&&t.jsx("span",{className:`absolute inline-flex h-full w-full rounded-full opacity-75 animate-ping ${A==="reconnecting"?"bg-orange-400":A==="online"?"bg-green-400":"bg-blue-400"}`})]}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h4",{className:`text-sm font-medium truncate ${R?"text-blue-700":"text-gray-700"}`,children:v.name}),t.jsx("p",{className:`text-[10px] truncate ${A==="offline"?"text-red-400":"text-gray-400"}`,children:R?A==="reconnecting"?"Reconnecting...":A==="connecting"?"Connecting...":A==="offline"?"Offline":v.author:A==="offline"?"Offline":A==="checking"?"Checking...":v.author})]}),R&&e&&p==="online"&&t.jsxs("div",{className:"flex space-x-0.5 items-end h-3 ml-2",children:[t.jsx("div",{className:"w-0.5 bg-blue-500 animate-bounce h-2"}),t.jsx("div",{className:"w-0.5 bg-blue-500 animate-bounce h-3 delay-75"}),t.jsx("div",{className:"w-0.5 bg-blue-500 animate-bounce h-1 delay-150"})]})]},v.id)})})]})]})},Ba=Object.freeze(Object.defineProperty({__proto__:null,default:Ta},Symbol.toStringTag,{value:"Module"}));export{aa as A,Ra as C,Ya as K,ra as P,Ka as S,La as a,_a as b,Ua as c,Ba as r,na as u};
