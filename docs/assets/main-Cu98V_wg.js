const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./pages-DwKzwb1h.js","./vendor-react-BJBClTZX.js","./vendor-other-DQJqTIja.js","./vendor-leaflet-Ch3uxlbW.js","./vendor-leaflet-Dgihpmma.css","./data-DIPIpdjH.js","./bikram-E_1354dj.js","./kundali-B8VqGN2A.js","./vendor-utils-y-iLWhYP.js"])))=>i.map(i=>d[i]);
import"./index-CR8RvORb.js";import{r as t,j as e,U as V,Y as oe,X as ie,H as de,S as ce,R as ue,B as he,a as me,I as X,M as fe,b as pe,_ as ge,$ as xe}from"./vendor-react-BJBClTZX.js";import{a6 as N,s as $,a7 as be,N as g,a8 as F,C as we,T as ye,w as ve,x as ke,M as Se,a9 as je,aa as Ne,ab as Ae,ac as Ee}from"./bikram-E_1354dj.js";import{u as Te,A as Ie}from"./pages-DwKzwb1h.js";import{l as Ce,m as _e,a as Re,b as Le}from"./vendor-leaflet-Ch3uxlbW.js";import"./vendor-other-DQJqTIja.js";import"./data-DIPIpdjH.js";import"./kundali-B8VqGN2A.js";import"./vendor-utils-y-iLWhYP.js";const De=()=>{const[a,o]=t.useState("light");return t.useEffect(()=>{const c=localStorage.getItem("theme")||"light";o(c),document.documentElement.classList.toggle("dark",c==="dark")},[]),{theme:a,toggleTheme:()=>{const i=a==="light"?"dark":"light";o(i),localStorage.setItem("theme",i),document.documentElement.classList.toggle("dark",i==="dark")},resetTheme:()=>{localStorage.removeItem("theme"),o("light"),document.documentElement.classList.toggle("dark",!1)}}},Pe=()=>{const[a,o]=t.useState("tabs"),[y,d]=t.useState("topbar");return t.useEffect(()=>{const l=localStorage.getItem("menuStyle");o(l||"tabs");const f=localStorage.getItem("desktopLayoutStyle");d(f||"topbar")},[]),{menuStyle:a,desktopLayoutStyle:y,handleSetMenuStyle:l=>{o(l),localStorage.setItem("menuStyle",l)},handleSetDesktopLayoutStyle:l=>{d(l),localStorage.setItem("desktopLayoutStyle",l)},resetLayoutSettings:()=>{localStorage.removeItem("menuStyle"),localStorage.removeItem("desktopLayoutStyle"),o("tabs"),d("topbar")}}};function G(a={}){const{immediate:o=!1,onNeedRefresh:y,onOfflineReady:d,onRegistered:i,onRegisteredSW:c,onRegisterError:u}=a;let l,f;const x=async(s=!0)=>{await f};async function m(){if("serviceWorker"in navigator){if(l=await N(async()=>{const{Workbox:s}=await import("./vendor-other-DQJqTIja.js").then(r=>r.w);return{Workbox:s}},[],import.meta.url).then(({Workbox:s})=>new s("./sw.js",{scope:"./",type:"classic"})).catch(s=>{u?.(s)}),!l)return;l.addEventListener("activated",s=>{(s.isUpdate||s.isExternal)&&window.location.reload()}),l.addEventListener("installed",s=>{s.isUpdate||d?.()}),l.register({immediate:o}).then(s=>{c?c("./sw.js",s):i?.(s)}).catch(s=>{u?.(s)})}}return f=m(),x}const Me=()=>{const[a,o]=t.useState(!1),[y,d]=t.useState(!1),[i,c]=t.useState(()=>localStorage.getItem("pwa_installed")==="true"),[u,l]=t.useState(null);return t.useEffect(()=>{G({immediate:!0})},[]),t.useEffect(()=>{const x=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone;if(o(!!x),x){c(!0);return}const m=()=>{localStorage.setItem("pwa_installed","true"),c(!0),d(!1)};window.addEventListener("appinstalled",m),"getInstalledRelatedApps"in navigator&&navigator.getInstalledRelatedApps().then(r=>{r.length>0&&(localStorage.getItem("pwa_installed")!=="true"&&localStorage.setItem("pwa_installed","true"),c(!0))});const s=r=>{r.preventDefault(),localStorage.removeItem("pwa_installed"),c(!1),l(r),d(!0)};return window.addEventListener("beforeinstallprompt",s),()=>{window.removeEventListener("appinstalled",m),window.removeEventListener("beforeinstallprompt",s)}},[]),{isStandalone:a,canInstall:y,isInstalled:i,deferredPrompt:u,handleInstallClick:async()=>{u&&(u.prompt(),await u.userChoice,l(null),d(!1))}}},Be=()=>{const[a,o]=t.useState("calendar"),[y,d]=t.useState(null),[i,c]=t.useState(!1),[u,l]=t.useState(!1),[f,x]=t.useState(!1),[m,s]=t.useState(!1),[r,R]=t.useState(!1),A=t.useRef(null),p=t.useRef(null),[j,h]=t.useState(!1),E=t.useRef(null),k=t.useRef(0),[v,M]=t.useState(!1);t.useEffect(()=>{let n=null,b=0;const T=25,_=()=>{b++,typeof window.Android<"u"&&typeof window.Android.isAndroidApp=="function"?(M(!0),n&&clearInterval(n)):b>=T&&n&&clearInterval(n)};return _(),v||(n=window.setInterval(_,2e3)),()=>{n&&clearInterval(n)}},[]),t.useEffect(()=>{if(v)return;let n="";if(a!=="calendar"&&(n=a,a==="kundali"&&m?n+="/result":a==="dharma"&&r&&(n+="/section")),window.location.hash.replace("#","")!==n){const T=n?`#${n}`:window.location.pathname;window.history.pushState({view:a},"",T)}},[a,m,r,v]),t.useEffect(()=>{const n=b=>{u&&b.key==="Backspace"&&(b.preventDefault(),l(!1))};return u&&window.addEventListener("keydown",n),()=>window.removeEventListener("keydown",n)},[u]);const I=t.useCallback(()=>i?(c(!1),!0):f?(x(!1),!0):u?(l(!1),!0):a==="kundali"&&m&&A.current?(A.current(),!0):a==="dharma"&&r&&p.current?(p.current(),!0):v&&["kundali","dharma","converter","settings","privacy","radio"].includes(a)?(o("calendar"),!0):!1,[i,f,u,a,m,r,v]),C=t.useRef(I);t.useEffect(()=>{C.current=I},[I]),t.useEffect(()=>{const n=()=>{k.current=0,h(!1),E.current&&(clearTimeout(E.current),E.current=null)};if(v)return window.handleBackPress=()=>C.current()?(n(),!0):(k.current+=1,k.current===1?(h(!0),navigator.vibrate&&navigator.vibrate(50),E.current=window.setTimeout(n,2e3),!0):(typeof window.Android?.exitApp=="function"&&window.Android.exitApp(),!1)),()=>{n()};{const b=()=>{if(C.current()){if(window.location.hash.replace("#","")===a)return;const P=a==="calendar"?window.location.pathname:`#${a}`;setTimeout(()=>{window.history.pushState({view:a},"",P)},10);return}const D=window.location.hash.replace("#","").split("/")[0];o(D===""?"calendar":D)};return window.addEventListener("popstate",b),()=>window.removeEventListener("popstate",b)}},[v,a]);const B=n=>{d(n),c(!0)},L=t.useCallback(n=>{A.current=n},[]),S=t.useCallback(n=>{p.current=n},[]);return{activeView:a,setActiveView:o,selectedDate:y,isModalOpen:i,setIsModalOpen:c,isMenuOpen:u,setIsMenuOpen:l,isAboutOpen:f,setIsAboutOpen:x,isKundaliResultsVisible:m,setIsKundaliResultsVisible:s,setKundaliBackAction:L,isDharmaResultsVisible:r,setIsDharmaResultsVisible:R,setDharmaBackAction:S,showExitToast:j,handleDayClick:B,isAndroidWebView:v}},Ve=(a,o)=>{const[y,d]=t.useState(!1),[i,c]=t.useState(null),[u,l]=t.useState(null),[f,x]=t.useState(!1),[m,s]=t.useState(null);return t.useEffect(()=>{typeof window.Android<"u"&&typeof window.Android.openWidgetSettings=="function"&&d(!0)},[]),t.useEffect(()=>{const p=j=>{if(j?.preventDefault?.(),a){o(!1);return}if(f)window.Android?.exitApp?window.Android.exitApp():window.history.length>1?window.history.back():window.close();else{x(!0);const h=window.setTimeout(()=>x(!1),2e3);s(h)}};return window.addEventListener("popstate",p),document.addEventListener("backbutton",p),()=>{window.removeEventListener("popstate",p),document.removeEventListener("backbutton",p),m&&clearTimeout(m)}},[a,f,m,o]),{isAndroidApp:y,showExitToast:f,handleTouchStart:p=>{c(p.touches[0].clientX),l(null)},handleTouchMove:p=>l(p.touches[0].clientX),handleTouchEnd:()=>{if(!i||!u)return;const p=u-i;p>60&&i<50?o(!0):p<-60&&a&&o(!1),c(null),l(null)}}},Oe=t.lazy(()=>N(()=>import("./pages-DwKzwb1h.js").then(a=>a.K),__vite__mapDeps([0,1,2,3,4,5,6,7,8]),import.meta.url)),Ye=t.lazy(()=>N(()=>import("./pages-DwKzwb1h.js").then(a=>a.c),__vite__mapDeps([0,1,2,3,4,5,6,7,8]),import.meta.url)),ze=t.lazy(()=>N(()=>import("./pages-DwKzwb1h.js").then(a=>a.S),__vite__mapDeps([0,1,2,3,4,5,6,7,8]),import.meta.url)),We=t.lazy(()=>N(()=>import("./pages-DwKzwb1h.js").then(a=>a.b),__vite__mapDeps([0,1,2,3,4,5,6,7,8]),import.meta.url)),He=t.lazy(()=>N(()=>import("./pages-DwKzwb1h.js").then(a=>a.r),__vite__mapDeps([0,1,2,3,4,5,6,7,8]),import.meta.url)),Ue=t.lazy(()=>N(()=>import("./pages-DwKzwb1h.js").then(a=>a.D),__vite__mapDeps([0,1,2,3,4,5,6,7,8]),import.meta.url)),Ke=()=>{const{theme:a,toggleTheme:o,resetTheme:y}=De(),{menuStyle:d,desktopLayoutStyle:i,handleSetMenuStyle:c,handleSetDesktopLayoutStyle:u,resetLayoutSettings:l}=Pe(),{isStandalone:f,canInstall:x,handleInstallClick:m}=Me(),{activeView:s,setActiveView:r,selectedDate:R,isModalOpen:A,setIsModalOpen:p,isMenuOpen:j,setIsMenuOpen:h,isAboutOpen:E,setIsAboutOpen:k,handleDayClick:v,setIsKundaliResultsVisible:M,setKundaliBackAction:I,setIsDharmaResultsVisible:C,setDharmaBackAction:B,showExitToast:L}=Be(),{activeSystem:S,currentYear:n,currentMonth:b,currentBsYear:T,currentBsMonth:_,currentAdYear:D,currentAdMonth:O,switchSystem:Y,goToToday:z,changeMonth:P,changeYear:W,setCurrentBsYear:q,setCurrentAdYear:J,setCurrentBsMonth:Q,setCurrentAdMonth:Z,initialToday:H,initialTodayBs:ee,todayDetails:U}=Te(),{isAndroidApp:te,handleTouchStart:ae,handleTouchMove:se,handleTouchEnd:ne}=Ve(j,h),re=()=>{y(),l(),$.info("Settings reset to default",2e3)};t.useEffect(()=>{const K=new URLSearchParams(window.location.search).get("activeView");K&&(r(K),window.history.replaceState({},"","/"))},[r]),t.useEffect(()=>{L&&$.info("Press back again to exit",2e3)},[L]);const le=()=>v(H);return e.jsxs("div",{className:`min-h-screen flex flex-col bg-slate-100 dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-colors relative ${i==="sidebar"?"md:flex-row":""} ${a==="dark"?"dark":""}`,onTouchStart:ae,onTouchMove:se,onTouchEnd:ne,children:[i==="topbar"&&e.jsxs("div",{className:"w-full flex items-center justify-between px-4 py-2 bg-slate-200 dark:bg-gray-800 z-30 print:hidden",children:[e.jsx(be,{activeView:s,onNavigate:w=>{w==="about"?k(!0):r(w)}}),!f&&x&&e.jsxs("button",{onClick:m,className:"hidden md:flex ml-4 p-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700 items-center gap-2 text-sm",children:[e.jsx(V,{className:"w-4 h-4"})," ",e.jsx("span",{children:g.installApp})]})]}),e.jsx("header",{className:"px-4 py-2 dark:border-gray-700 bg-slate-200 dark:bg-gray-800 z-30 md:hidden",children:e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[d==="slide"&&e.jsx("button",{onClick:()=>h(!0),className:"p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700",children:e.jsx(oe,{className:"w-5 h-5"})}),e.jsx("h1",{className:"text-lg sm:text-xl font-semibold",children:g.Nepdate_calendar})]}),d==="tabs"&&!f&&x&&e.jsxs("button",{onClick:m,className:"px-3 py-2 text-left text-xs rounded bg-blue-600 text-white hover:bg-blue-700 flex items-center gap-2",children:[e.jsx(V,{className:"w-5 h-5"})," ",e.jsx("span",{children:g.installApp})]})]})}),j&&e.jsx("div",{className:"fixed inset-0 bg-black/40 z-40 md:hidden",onClick:()=>h(!1)}),e.jsx("aside",{className:`fixed top-0 left-0 z-50 h-full bg-slate-200 dark:bg-gray-800 shadow-xl transform transition-transform duration-300 ease-in-out
          ${j?"translate-x-0":"-translate-x-full"}
          ${i==="sidebar"?"md:translate-x-0 md:sticky md:h-screen md:w-56":"md:hidden w-64"}`,children:e.jsxs("div",{className:"flex flex-col h-full p-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100",children:"Menu"}),e.jsx("button",{onClick:()=>h(!1),className:"p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 md:hidden",children:e.jsx(ie,{className:"w-5 h-5"})})]}),e.jsxs("nav",{className:"flex flex-col space-y-3 text-gray-800 dark:text-gray-200",children:[e.jsxs("button",{onClick:()=>{r("calendar"),h(!1)},className:"px-3 py-2 flex items-center gap-2 rounded hover:bg-gray-300 dark:hover:bg-gray-700",children:[e.jsx(de,{className:"w-4 h-4"})," ",g.home]}),e.jsxs("button",{onClick:()=>{r("converter"),h(!1)},className:"px-3 py-2 flex items-center gap-2 rounded hover:bg-gray-300 dark:hover:bg-gray-700",children:[e.jsx(ce,{className:"w-4 h-4"})," ",g.converter]}),e.jsxs("button",{onClick:()=>{r("kundali"),h(!1)},className:"px-3 py-2 flex items-center gap-2 rounded hover:bg-gray-300 dark:hover:bg-gray-700",children:["ðŸ”¯ ",g.kundali]}),e.jsxs("button",{onClick:()=>{r("radio"),h(!1)},className:"px-3 py-2 flex items-center gap-2 rounded hover:bg-gray-300 dark:hover:bg-gray-700",children:[e.jsx(ue,{className:"w-4 h-4"})," ",g.radio]}),e.jsxs("button",{onClick:()=>{r("dharma"),h(!1)},className:"px-3 py-2 flex items-center gap-2 rounded hover:bg-gray-300 dark:hover:bg-gray-700",children:[e.jsx(he,{className:"w-4 h-4"})," ",g.dharma]}),e.jsxs("button",{onClick:()=>{r("settings"),h(!1)},className:"px-3 py-2 flex items-center gap-2 rounded hover:bg-gray-300 dark:hover:bg-gray-700",children:[e.jsx(me,{className:"w-4 h-4"})," ",g.settings]}),e.jsxs("button",{onClick:()=>{r("privacy"),h(!1)},className:"px-3 py-2 flex items-center gap-2 rounded hover:bg-gray-300 dark:hover:bg-gray-700",children:[e.jsx(X,{className:"w-4 h-4"})," ",g.privacyPolicy]}),e.jsxs("button",{onClick:()=>{k(!0),h(!1)},className:"px-3 py-2 flex items-center gap-2 rounded hover:bg-gray-300 dark:hover:bg-gray-700",children:[e.jsx(X,{className:"w-4 h-4"})," ",g.about]}),!f&&x&&e.jsxs("button",{onClick:()=>{m(),h(!1)},className:"px-3 py-2 flex items-center gap-2 rounded bg-blue-600 text-white hover:bg-blue-700",children:[e.jsx(V,{className:"w-4 h-4"})," ",g.installApp]}),e.jsxs("button",{onClick:()=>{o(),h(!1)},className:"px-3 py-2 flex items-center gap-2 rounded hover:bg-gray-300 dark:hover:bg-gray-700",children:[a==="light"?e.jsx(fe,{className:"w-4 h-4"}):e.jsx(pe,{className:"w-4 h-4"})," ",a==="light"?g.darkMode:g.lightMode]}),e.jsx("hr",{className:"border-gray-300 dark:border-gray-600 my-2"}),e.jsxs("button",{onClick:()=>{F(),h(!1)},className:"px-3 py-2 flex items-center gap-2 rounded text-blue-600 dark:text-blue-400 hover:bg-blue-100 dark:hover:bg-blue-900/50",children:[e.jsx(ge,{className:"w-4 h-4"})," Clear Cache & Reload"]})]}),e.jsxs("div",{className:"mt-auto text-xs text-gray-500 dark:text-gray-400 border-t border-gray-200 dark:border-gray-700 pt-4",children:["Â© ",new Date().getFullYear()," ",g.project]})]})}),e.jsx("div",{className:"flex-1 overflow-hidden",children:e.jsxs("div",{className:`h-full overflow-auto px-4 md:px-6 max-w-7xl xl:max-w-6xl mx-auto w-full ${d==="tabs"?"pb-24 md:pb-6":"pb-20 md:pb-6"}`,children:[s==="kundali"&&e.jsx(t.Suspense,{fallback:e.jsx("div",{className:"flex justify-center items-center min-h-[60vh]",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}),children:e.jsx(Oe,{onBack:()=>r("calendar"),setIsKundaliResultsVisible:M,setKundaliBackAction:I})}),s==="calendar"&&e.jsxs(e.Fragment,{children:[e.jsx(we,{activeSystem:S,bsYear:T,bsMonth:_,adYear:D,adMonth:O,onSystemChange:Y,onTodayClick:z,theme:a,onThemeToggle:o,todayDetails:U}),e.jsxs("main",{className:"min-h-[60vh] md:grid md:grid-cols-12 md:gap-x-6",children:[e.jsx("aside",{className:"hidden md:block md:col-span-4",children:e.jsx(ye,{todayAd:H,todayBs:ee,todayDetails:U,onShowDetailsClick:le})}),e.jsxs("div",{className:"md:col-span-8 flex flex-col",children:[e.jsx(ve,{activeSystem:S,currentYear:n,currentMonth:b,onYearChange:w=>S==="bs"?q(w):J(w),onMonthChange:w=>S==="bs"?Q(w):Z(w),onPrevMonth:()=>P("prev"),onNextMonth:()=>P("next"),onPrevYear:()=>W("prev"),onNextYear:()=>W("next")}),e.jsx(ke,{activeSystem:S,currentYear:n,currentMonth:b,onDayClick:v}),e.jsx(Se,{activeSystem:S,currentYear:n,currentMonth:b})]})]})]}),s==="dharma"&&e.jsx(t.Suspense,{fallback:e.jsx("div",{className:"flex justify-center items-center min-h-[60vh]",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}),children:e.jsx(Ue,{onBack:()=>r("calendar"),setIsDharmaResultsVisible:C,setDharmaBackAction:B})}),s==="converter"&&e.jsx(t.Suspense,{fallback:e.jsx("div",{className:"flex justify-center items-center min-h-[60vh]",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}),children:e.jsx(Ye,{onBack:()=>r("calendar")})}),s==="settings"&&e.jsx(t.Suspense,{fallback:e.jsx("div",{className:"flex justify-center items-center min-h-[60vh]",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}),children:e.jsx(ze,{onBack:()=>r("calendar"),currentTheme:a,onThemeChange:o,currentMenuStyle:d,onMenuStyleChange:c,currentDesktopLayoutStyle:i,onDesktopLayoutStyleChange:u,onResetSettings:re,isAndroidApp:te,onReloadApp:F})}),s==="privacy"&&e.jsx(t.Suspense,{fallback:e.jsx("div",{className:"flex justify-center items-center min-h-[60vh]",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}),children:e.jsx(We,{})}),s==="radio"&&e.jsx(t.Suspense,{fallback:e.jsx("div",{className:"flex justify-center items-center min-h-[60vh]",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}),children:e.jsx(He,{})})]})}),d==="slide"&&e.jsx("div",{className:"fixed bottom-0 left-0 right-0 w-full bg-slate-200 dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 z-50 print:hidden md:hidden",children:e.jsx(je,{})}),d==="tabs"&&e.jsx("div",{className:"md:hidden print:hidden",children:e.jsx(Ne,{activeView:s,onNavigate:w=>{w==="about"?k(!0):r(w)}})}),e.jsx(Ae,{date:R,isOpen:A,onClose:()=>p(!1)}),E&&e.jsx(Ie,{setIsAboutOpen:k}),e.jsx(Ee,{})]})};Ce.Icon.Default.mergeOptions({iconUrl:Le,shadowUrl:Re,iconRetinaUrl:_e});G({onNeedRefresh(){confirm("A new version is available. Reload to update?")&&window.location.reload()},onOfflineReady(){console.log("App ready to work offline")}});xe.createRoot(document.getElementById("root")).render(e.jsx(t.StrictMode,{children:e.jsx(Ke,{})}));
